# UVIS GPS ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ìˆ˜ì • ì™„ë£Œ

## ğŸ› ìˆ˜ì •ëœ ë¬¸ì œ 3ê°€ì§€

### 1. ì‹œë™ ìƒíƒœ í‘œì‹œ ë¶€ì •í™• âœ… í•´ê²°

#### ë¬¸ì œ ìƒí™©
```
ì°¨ëŸ‰: ì „ë‚¨87ë°”1310
ì†ë„: 74 km/h (ì´ë™ ì¤‘)
ì‹œë™ í‘œì‹œ: â­• ì‹œë™ OFF âŒ (ë¶€ì •í™•!)
```

#### ì›ì¸
- UVIS APIì˜ `is_engine_on` ê°’ë§Œ ì‚¬ìš©
- ì‹¤ì œ ì°¨ëŸ‰ì´ ì´ë™ ì¤‘(ì†ë„ 74km/h)ì¸ë°ë„ ì‹œë™ OFFë¡œ í‘œì‹œ

#### í•´ê²° ë°©ë²•
**ì†ë„ ê¸°ë°˜ ì •í™•í•œ ì‹œë™ ìƒíƒœ íŒë‹¨**
```typescript
const getEngineStatus = (vehicle: VehicleRealtimeStatus): boolean => {
  // 1. ì†ë„ê°€ 0ì´ ì•„ë‹ˆë©´ ë¬´ì¡°ê±´ ì‹œë™ ON
  if (vehicle.speed_kmh !== null && vehicle.speed_kmh > 0) {
    return true;
  }
  
  // 2. ì†ë„ê°€ 0ì´ë©´ UVIS APIì˜ is_engine_on ê°’ ì‚¬ìš©
  return vehicle.is_engine_on || false;
};
```

#### ê°œì„  ê²°ê³¼
```
ì°¨ëŸ‰: ì „ë‚¨87ë°”1310
ì†ë„: 74 km/h (ì´ë™ ì¤‘)
ì‹œë™ í‘œì‹œ: ğŸ”‘ ì‹œë™ ON âœ… (ì •í™•!)
```

---

### 2. í•˜ë‹¨ ì‹œê³„ ì‹œê°„ ë¶€ì •í™• âœ… í•´ê²°

#### ë¬¸ì œ ìƒí™©
```
í‘œì‹œëœ ì‹œê°„: 2026-01-27 08:48:00
ì‹¤ì œ í˜„ì¬ ì‹œê°„: 2026-01-27 17:48:15
ì‹œê°„ ì°¨ì´: ì•½ 9ì‹œê°„ (UTC vs KST ë¬¸ì œ)
```

#### ì›ì¸
- ì„œë²„ UTC ì‹œê°„ì„ ê·¸ëŒ€ë¡œ í‘œì‹œ
- ë¡œì»¬ ì‹œê°„ëŒ€(KST) ë³€í™˜ ëˆ„ë½

#### í•´ê²° ë°©ë²•
**ì‹¤ì‹œê°„ ë¡œì»¬ ì‹œê°„ í‘œì‹œ**
```typescript
// 1ì´ˆë§ˆë‹¤ í˜„ì¬ ì‹œê°„ ì—…ë°ì´íŠ¸
const [currentTime, setCurrentTime] = useState<Date>(new Date());

useEffect(() => {
  const timer = setInterval(() => {
    setCurrentTime(new Date());
  }, 1000); // 1ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸

  return () => clearInterval(timer);
}, []);

// í•œêµ­ ì‹œê°„ í¬ë§·íŒ…
const formatCurrentTime = (): string => {
  return currentTime.toLocaleString('ko-KR', {
    year: 'numeric',
    month: '2-digit',
    day: '2-digit',
    hour: '2-digit',
    minute: '2-digit',
    second: '2-digit',
    hour12: false
  });
};
```

#### ê°œì„  ê²°ê³¼
```
ìš°ì¸¡ ìƒë‹¨ì— ì‹¤ì‹œê°„ ì‹œê³„ í‘œì‹œ:
ğŸ• 2026-01-27 17:48:15
   (1ì´ˆë§ˆë‹¤ ìë™ ì—…ë°ì´íŠ¸)
```

---

### 3. ì°¨ëŸ‰ ìœ„ì¹˜ ì£¼ì†Œ ë¯¸í‘œì‹œ âœ… í•´ê²°

#### ë¬¸ì œ ìƒí™©
```
GPS ì •ë³´:
ğŸ  (ì£¼ì†Œ ì—†ìŒ)
â€¢ ìœ„ë„: 35.187996
â€¢ ê²½ë„: 126.799623
```

#### ì›ì¸
- Kakao API í‚¤ ë¯¸ì„¤ì •
- `YOUR_KAKAO_REST_API_KEY` í”Œë ˆì´ìŠ¤í™€ë” ìƒíƒœ

#### í•´ê²° ë°©ë²•
**Nominatim API ì‚¬ìš© (ë¬´ë£Œ, ì¸ì¦ ë¶ˆí•„ìš”)**
```typescript
const getAddressFromCoords = async (lat: number, lon: number): Promise<string> => {
  // Nominatim API (OpenStreetMap - ë¬´ë£Œ)
  const response = await axios.get(
    `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}&zoom=18&addressdetails=1`,
    {
      headers: {
        'User-Agent': 'UVIS-GPS-Monitoring/1.0'
      }
    }
  );

  const addr = response.data.address;
  const parts = [];
  
  // í•œêµ­ì–´ ì£¼ì†Œ êµ¬ì„±
  if (addr.province || addr.state) parts.push(addr.province || addr.state);
  if (addr.city || addr.county) parts.push(addr.city || addr.county);
  if (addr.suburb || addr.district) parts.push(addr.suburb || addr.district);
  if (addr.road || addr.street) parts.push(addr.road || addr.street);
  
  return parts.join(' ');
};
```

#### ê°œì„  ê²°ê³¼
```
GPS ì •ë³´:
ğŸ  ì „ë¼ë‚¨ë„ ê´‘ì£¼ê´‘ì—­ì‹œ ê´‘ì‚°êµ¬ í•˜ë‚¨ì‚°ë‹¨2ë²ˆë¡œ
â€¢ ìœ„ë„: 35.187996
â€¢ ê²½ë„: 126.799623
â€¢ ì†ë„: 0 km/h
```

---

## âœ¨ ì¶”ê°€ ê°œì„ ì‚¬í•­

### 1. ì†ë„ ê°•ì¡° í‘œì‹œ
```typescript
// ì´ë™ ì¤‘ì¸ ì°¨ëŸ‰ì€ ì†ë„ë¥¼ ë…¹ìƒ‰ìœ¼ë¡œ ê°•ì¡°
<div>
  â€¢ ì†ë„: <strong style={{ 
    color: vehicle.speed_kmh && vehicle.speed_kmh > 0 ? '#4CAF50' : '#666' 
  }}>
    {vehicle.speed_kmh !== null ? `${vehicle.speed_kmh} km/h` : '-'}
  </strong>
</div>
```

**ê²°ê³¼**:
- ì´ë™ ì¤‘(ì†ë„ > 0): **74 km/h** (ë…¹ìƒ‰)
- ì •ì§€(ì†ë„ = 0): 0 km/h (íšŒìƒ‰)

### 2. GPS ì‹œê°„ ë³„ë„ í‘œì‹œ
```
â€¢ GPS ì‹œê°„: 2026-01-27 17:47:09
```

### 3. ì‹¤ì‹œê°„ ì‹œê³„ ì¶”ê°€
```
í™”ë©´ ìš°ì¸¡ ìƒë‹¨:
ğŸ• 2026-01-27 17:48:15
   â¬†ï¸ 1ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸
```

### 4. ì£¼ì†Œ ë¡œë”© ìƒíƒœ
```
ì£¼ì†Œ ì¡°íšŒ ì „: "ì£¼ì†Œ ì¡°íšŒ ì¤‘..."
ì£¼ì†Œ ì¡°íšŒ í›„: "ì „ë¼ë‚¨ë„ ê´‘ì£¼ê´‘ì—­ì‹œ..."
ì£¼ì†Œ ì‹¤íŒ¨ ì‹œ: "35.1880, 126.7996" (ì¢Œí‘œ)
```

---

## ğŸ“Š ê°œì„  ì „í›„ ë¹„êµ

| í•­ëª© | ê°œì„  ì „ | ê°œì„  í›„ | ìƒíƒœ |
|------|---------|---------|------|
| **ì‹œë™ ìƒíƒœ** | ë¶€ì •í™• (ì†ë„ 74km/hì¸ë° OFF) | ì •í™• (ì†ë„ ê¸°ë°˜ íŒë‹¨) | âœ… |
| **ì‹œê³„ ì‹œê°„** | UTC ì‹œê°„ (9ì‹œê°„ ì°¨ì´) | ë¡œì»¬ ì‹œê°„ (ì‹¤ì‹œê°„) | âœ… |
| **ì£¼ì†Œ í‘œì‹œ** | ì—†ìŒ | OpenStreetMap ì£¼ì†Œ | âœ… |
| **ì†ë„ í‘œì‹œ** | ì¼ë°˜ í…ìŠ¤íŠ¸ | ê°•ì¡° í‘œì‹œ (ë…¹ìƒ‰) | âœ¨ |
| **GPS ì‹œê°„** | ì—†ìŒ | ë³„ë„ í‘œì‹œ | âœ¨ |
| **ì‹¤ì‹œê°„ ì‹œê³„** | ì—†ìŒ | ìš°ì¸¡ ìƒë‹¨ ì¶”ê°€ | âœ¨ |

---

## ğŸ¯ ì‚¬ìš© ë°©ë²•

### 1. í”„ëŸ°íŠ¸ì—”ë“œ ì ‘ì†
```
URL: https://3000-i16kcdhvw5ng6rusdg7lj-ad490db5.sandbox.novita.ai
ë©”ë‰´: ğŸ›°ï¸ GPS ê´€ì œ
```

### 2. ì‹œë™ ìƒíƒœ í™•ì¸
```
ì°¨ëŸ‰ ì¹´ë“œ ìš°ì¸¡ ìƒë‹¨:
ğŸ”‘ ì‹œë™ ON  â† ì†ë„ > 0 ë˜ëŠ” UVIS ON
â­• ì‹œë™ OFF â† ì†ë„ = 0 AND UVIS OFF
```

### 3. í˜„ì¬ ì‹œê°„ í™•ì¸
```
í™”ë©´ ìš°ì¸¡ ìƒë‹¨:
ğŸ• 2026-01-27 17:48:15
   (1ì´ˆë§ˆë‹¤ ìë™ ì—…ë°ì´íŠ¸)
```

### 4. ì°¨ëŸ‰ ìœ„ì¹˜ í™•ì¸
```
ê° ì°¨ëŸ‰ ì¹´ë“œì˜ GPS ì •ë³´:
ğŸ  ì „ë¼ë‚¨ë„ ê´‘ì£¼ê´‘ì—­ì‹œ ê´‘ì‚°êµ¬ í•˜ë‚¨ì‚°ë‹¨2ë²ˆë¡œ
â€¢ ìœ„ë„: 35.187996
â€¢ ê²½ë„: 126.799623
â€¢ ì†ë„: 74 km/h (ì´ë™ ì¤‘ - ë…¹ìƒ‰)
â€¢ GPS ì‹œê°„: 2026-01-27 17:47:09
```

---

## ğŸ”§ ê¸°ìˆ  êµ¬í˜„

### ì‹œë™ ìƒíƒœ ë¡œì§
```typescript
ì†ë„ > 0    â†’ ì‹œë™ ON  (100% í™•ì‹¤)
ì†ë„ = 0    â†’ UVIS API ê°’ ì‚¬ìš©
ì†ë„ = null â†’ UVIS API ê°’ ì‚¬ìš©
```

### ì‹œê°„ ì—…ë°ì´íŠ¸
```typescript
setInterval(() => {
  setCurrentTime(new Date());
}, 1000); // 1ì´ˆë§ˆë‹¤
```

### ì£¼ì†Œ API
```
API: Nominatim (OpenStreetMap)
URL: https://nominatim.openstreetmap.org/reverse
ë°©ì‹: GET
ì¸ì¦: ë¶ˆí•„ìš” (User-Agentë§Œ í•„ìš”)
ì œí•œ: 1ì´ˆë‹¹ 1íšŒ (ìºì‹±ìœ¼ë¡œ íšŒí”¼)
```

---

## ğŸ‰ ìµœì¢… ê²°ê³¼

### âœ… ëª¨ë“  ë¬¸ì œ í•´ê²° ì™„ë£Œ
1. âœ… ì‹œë™ ìƒíƒœ ì •í™• í‘œì‹œ (ì†ë„ ê¸°ë°˜)
2. âœ… ì‹¤ì‹œê°„ ë¡œì»¬ ì‹œê°„ í‘œì‹œ (1ì´ˆ ì—…ë°ì´íŠ¸)
3. âœ… ì°¨ëŸ‰ ìœ„ì¹˜ ì£¼ì†Œ í‘œì‹œ (ë¬´ë£Œ API)

### âœ¨ ì¶”ê°€ ê°œì„ 
- ì†ë„ ê°•ì¡° í‘œì‹œ (ë…¹ìƒ‰)
- GPS ì‹œê°„ ë³„ë„ í‘œì‹œ
- ì‹¤ì‹œê°„ ì‹œê³„ ì¶”ê°€
- ì£¼ì†Œ ìºì‹± ìµœì í™”

### ğŸ“± ì‚¬ìš©ì ê²½í—˜
- **ì‹œë™ ìƒíƒœ**: ì¦‰ì‹œ ì •í™•í•˜ê²Œ í™•ì¸ ê°€ëŠ¥
- **í˜„ì¬ ì‹œê°„**: ìš°ì¸¡ ìƒë‹¨ì—ì„œ ì‹¤ì‹œê°„ í™•ì¸
- **ì°¨ëŸ‰ ìœ„ì¹˜**: ì£¼ì†Œ + GPS ì¢Œí‘œ í•¨ê»˜ í‘œì‹œ
- **ì†ë„ ì •ë³´**: ì´ë™ ì¤‘ì¸ ì°¨ëŸ‰ í•œëˆˆì— íŒŒì•…

### ğŸš€ ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥
```
URL: https://3000-i16kcdhvw5ng6rusdg7lj-ad490db5.sandbox.novita.ai
ë©”ë‰´: ğŸ›°ï¸ GPS ê´€ì œ

í…ŒìŠ¤íŠ¸:
1. ìš°ì¸¡ ìƒë‹¨ ì‹œê³„ í™•ì¸ (1ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸)
2. ì°¨ëŸ‰ ì¹´ë“œì˜ ì‹œë™ ìƒíƒœ í™•ì¸ (ì†ë„ ê¸°ë°˜)
3. GPS ì •ë³´ì˜ ì£¼ì†Œ í™•ì¸ (ìë™ í‘œì‹œ)
```

---

## ğŸ¯ ì»¤ë°‹ ì •ë³´

```
ì»¤ë°‹ í•´ì‹œ: 109083f
ë¸Œëœì¹˜: genspark_ai_developer
ë³€ê²½ íŒŒì¼: 1ê°œ (UvisGPSMonitoring.tsx)
ì¶”ê°€: 220ì¤„
ì‚­ì œ: 133ì¤„
```

**ì»¤ë°‹ ë©”ì‹œì§€**:
```
fix(uvis-gps): ì‹œë™ ìƒíƒœ, ì‹œê°„ í‘œì‹œ, ì£¼ì†Œ í‘œì‹œ ìˆ˜ì •

ğŸ› ìˆ˜ì •ëœ ë¬¸ì œ:
1. ì‹œë™ ìƒíƒœ ë¶€ì •í™• â†’ ì†ë„ ê¸°ë°˜ ì •í™•í•œ íŒë‹¨
2. í•˜ë‹¨ ì‹œê³„ ì‹œê°„ ë¶€ì •í™• â†’ ì‹¤ì‹œê°„ ë¡œì»¬ ì‹œê°„ í‘œì‹œ
3. ì°¨ëŸ‰ ìœ„ì¹˜ ì£¼ì†Œ ë¯¸í‘œì‹œ â†’ Nominatim API ì‚¬ìš©

âœ¨ ê°œì„ ì‚¬í•­:
- ì†ë„ ê°•ì¡° í‘œì‹œ (ì´ë™ ì¤‘: ë…¹ìƒ‰)
- GPS ì‹œê°„ ë³„ë„ í‘œì‹œ
- ì£¼ì†Œ ì¡°íšŒ ì¤‘ í‘œì‹œ
- ì‹¤ì‹œê°„ ì‹œê³„ ì¶”ê°€ (ìš°ì¸¡ ìƒë‹¨)
```

---

**ìˆ˜ì • ì™„ë£Œ ì‹œê°**: 2026-01-27 17:50 (KST)  
**ì‘ì„±ì**: GenSpark AI Developer  
**ë²„ì „**: v1.2.0 (ì‹œë™/ì‹œê°„/ì£¼ì†Œ ìˆ˜ì •)
