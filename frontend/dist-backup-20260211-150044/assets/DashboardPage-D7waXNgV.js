import{j as e,r as n,b as f,L as y}from"./index-DWrA19-Q.js";import{u as w,L as g}from"./Layout-_7QmQsM4.js";import{C as i}from"./Card-BZBkuSEa.js";import{L as _,C,a as L,b as P,P as D,c as $,p as z,d as E,e as S}from"./index-8f5neQgV.js";import{P as x}from"./package-CyltdJ0k.js";import{C as h}from"./clock-DDHN8A9u.js";import{T as m}from"./truck-DYyomFIS.js";import{C as p}from"./circle-check-big-CgFKxf-k.js";import{T as k}from"./trending-up-B_M0jfMY.js";import"./Sidebar-DEFpisEa.js";import"./calendar-D1aWU6wz.js";import"./message-square-CQX4xtvJ.js";import"./zap-BDAzIdEF.js";import"./dollar-sign-zNa6eeND.js";import"./activity-B0jPijYH.js";import"./thermometer-C21NQbKK.js";import"./chart-column-BBu1zpkI.js";import"./calculator-Cr8S2iSR.js";import"./bell-Muzov4ul.js";import"./download-Bm7c4jyO.js";import"./wrench-IdkLiNsk.js";import"./brain-BT-kJAZk.js";import"./settings-M2ZQNpfd.js";import"./x-cTU3yyaH.js";import"./chevron-down-DjioDqHQ.js";import"./index-BvcQtAB6.js";const T={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",yellow:"bg-yellow-50 text-yellow-600",red:"bg-red-50 text-red-600",purple:"bg-purple-50 text-purple-600"},o=({title:s,value:c,icon:d,trend:a,color:l="blue",onClick:r})=>e.jsxs("div",{className:`bg-white rounded-lg shadow-sm p-4 ${r?"active:bg-gray-50 cursor-pointer":""}`,onClick:r,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s}),e.jsx("div",{className:`p-2 rounded-lg ${T[l]}`,children:e.jsx(d,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c}),a&&e.jsxs("div",{className:`flex items-center text-xs font-medium ${a.isPositive?"text-green-600":"text-red-600"}`,children:[e.jsx("span",{children:a.isPositive?"↑":"↓"}),e.jsxs("span",{className:"ml-1",children:[Math.abs(a.value),"%"]})]})]})]});C.register(L,P,D,$,z,E,S);const oe=()=>{const[s,c]=n.useState(null),[d,a]=n.useState(!0),{isMobile:l}=w();n.useEffect(()=>{r();const t=setInterval(r,3e4);return()=>clearInterval(t)},[]);const r=async()=>{try{const t=await f.getDashboard();c(t)}catch(t){console.error("Failed to fetch dashboard data:",t)}finally{a(!1)}};if(d||!s)return e.jsx(g,{children:e.jsx(y,{})});const b=[{title:"전체 주문",value:s.total_orders,icon:x,color:"bg-blue-500",trend:"+12%"},{title:"대기 중인 주문",value:s.pending_orders,icon:h,color:"bg-yellow-500"},{title:"진행 중인 배차",value:s.active_dispatches,icon:m,color:"bg-green-500"},{title:"오늘 완료",value:s.completed_today,icon:p,color:"bg-purple-500",trend:"+8%"}],u={labels:["월","화","수","목","금","토","일"],datasets:[{label:"배송 완료",data:[12,19,15,25,22,18,s.completed_today],borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]},j={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"주간 배송 현황"}}};return e.jsx(g,{children:e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"px-4 md:px-0",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"대시보드"}),e.jsx("p",{className:"text-sm md:text-base text-gray-600 mt-1 md:mt-2",children:"실시간 배송 현황을 확인하세요"})]}),l?e.jsxs("div",{className:"grid grid-cols-2 gap-3 px-4",children:[e.jsx(o,{title:"전체 주문",value:s.total_orders,icon:x,color:"blue",trend:{value:12,isPositive:!0}}),e.jsx(o,{title:"대기 중",value:s.pending_orders,icon:h,color:"yellow"}),e.jsx(o,{title:"진행 중",value:s.active_dispatches,icon:m,color:"green"}),e.jsx(o,{title:"오늘 완료",value:s.completed_today,icon:p,color:"purple",trend:{value:8,isPositive:!0}})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:b.map((t,v)=>{const N=t.icon;return e.jsx(i,{className:"hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:t.title}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.value}),t.trend&&e.jsxs("p",{className:"text-sm text-green-600 mt-2 flex items-center",children:[e.jsx(k,{size:16,className:"mr-1"}),t.trend]})]}),e.jsx("div",{className:`${t.color} p-4 rounded-full`,children:e.jsx(N,{className:"text-white",size:24})})]})},v)})}),e.jsxs("div",{className:`grid grid-cols-1 ${l?"gap-4 px-4":"lg:grid-cols-2 gap-6"}`,children:[e.jsx(i,{title:"주간 배송 추이",children:e.jsx("div",{className:l?"overflow-x-auto":"",children:e.jsx(_,{data:u,options:j})})}),e.jsx(i,{title:"차량 현황",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 md:p-4 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"text-sm md:text-base text-gray-700",children:"가용 차량"}),e.jsx("span",{className:"text-xl md:text-2xl font-bold text-green-600",children:s.available_vehicles})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 md:p-4 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"text-sm md:text-base text-gray-700",children:"운행 중"}),e.jsx("span",{className:"text-xl md:text-2xl font-bold text-blue-600",children:s.active_vehicles})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 md:p-4 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm md:text-base text-gray-700",children:"전체 차량"}),e.jsx("span",{className:"text-xl md:text-2xl font-bold text-gray-600",children:s.available_vehicles+s.active_vehicles})]})]})})]}),e.jsx("div",{className:l?"px-4":"",children:e.jsx(i,{title:"빠른 작업",children:e.jsxs("div",{className:`grid ${l?"grid-cols-1 gap-3":"grid-cols-1 md:grid-cols-3 gap-4"}`,children:[e.jsxs("button",{className:"p-3 md:p-4 bg-blue-50 hover:bg-blue-100 rounded-lg text-left transition-colors active:scale-95",children:[e.jsx(x,{className:"text-blue-600 mb-2",size:l?20:24}),e.jsx("h3",{className:"font-semibold text-gray-900 text-sm md:text-base",children:"새 주문 등록"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"신규 배송 주문을 등록합니다"})]}),e.jsxs("button",{className:"p-3 md:p-4 bg-green-50 hover:bg-green-100 rounded-lg text-left transition-colors active:scale-95",children:[e.jsx(m,{className:"text-green-600 mb-2",size:l?20:24}),e.jsx("h3",{className:"font-semibold text-gray-900 text-sm md:text-base",children:"자동 배차"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"대기 중인 주문을 자동 배차합니다"})]}),e.jsxs("button",{className:"p-3 md:p-4 bg-purple-50 hover:bg-purple-100 rounded-lg text-left transition-colors active:scale-95",children:[e.jsx(p,{className:"text-purple-600 mb-2",size:l?20:24}),e.jsx("h3",{className:"font-semibold text-gray-900 text-sm md:text-base",children:"배송 현황"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"진행 중인 배송을 모니터링합니다"})]})]})})})]})})};export{oe as default};
