import{j as e,d as G,r as d,z as n,b as j,L as U}from"./index-DWrA19-Q.js";import{u as X,L as C}from"./Layout-_7QmQsM4.js";import{C as m}from"./Card-BZBkuSEa.js";import{MapContainer as k,TileLayer as D,Marker as S,Popup as z}from"react-leaflet";import"leaflet/dist/leaflet.css";import{C as L}from"./circle-alert-BFR813J2.js";import{T as u}from"./truck-DYyomFIS.js";import{U as q}from"./user-C9_NANMn.js";import{P as M}from"./package-CyltdJ0k.js";import{M as R}from"./map-pin-BXKaUHvy.js";import{C as T}from"./clock-DDHN8A9u.js";import{N as H}from"./navigation-Ca4Anpco.js";import{C as N}from"./circle-check-big-CgFKxf-k.js";import{T as P}from"./trash-2-D1AjY7Me.js";import{P as J}from"./pen-Dcr6KkBI.js";import{X as Q}from"./x-cTU3yyaH.js";import"./Sidebar-DEFpisEa.js";import"./calendar-D1aWU6wz.js";import"./message-square-CQX4xtvJ.js";import"./zap-BDAzIdEF.js";import"./dollar-sign-zNa6eeND.js";import"./activity-B0jPijYH.js";import"./thermometer-C21NQbKK.js";import"./chart-column-BBu1zpkI.js";import"./calculator-Cr8S2iSR.js";import"./bell-Muzov4ul.js";import"./download-Bm7c4jyO.js";import"./wrench-IdkLiNsk.js";import"./brain-BT-kJAZk.js";import"./settings-M2ZQNpfd.js";import"./chevron-down-DjioDqHQ.js";import"./index-BvcQtAB6.js";const E={DRAFT:"bg-gray-100 text-gray-700",CONFIRMED:"bg-blue-100 text-blue-700",IN_PROGRESS:"bg-yellow-100 text-yellow-700",COMPLETED:"bg-green-100 text-green-700",CANCELLED:"bg-red-100 text-red-700"},V={DRAFT:"ì„ì‹œì €ì¥",CONFIRMED:"í™•ì •",IN_PROGRESS:"ì§„í–‰ì¤‘",COMPLETED:"ì™„ë£Œ",CANCELLED:"ì·¨ì†Œ"},W=({dispatch:i,onClick:l})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-3 active:bg-gray-50 cursor-pointer border border-gray-200",onClick:l,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:i.dispatch_number}),i.is_urgent&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-700",children:[e.jsx(L,{className:"w-3 h-3"}),"ê¸´ê¸‰"]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:i.dispatch_date})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E[i.status]||E.DRAFT}`,children:V[i.status]||i.status})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[i.vehicle&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(u,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-700",children:[i.vehicle.license_plate,e.jsxs("span",{className:"text-gray-400 ml-2",children:["(",i.vehicle.vehicle_type,")"]})]})]}),i.driver&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(q,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-700",children:i.driver.name})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1.5 text-sm",children:[e.jsx(M,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-700",children:[i.total_orders,"ê±´"]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-1.5 text-sm",children:[e.jsx(R,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-700",children:[i.total_pallets,"íŒ”ë ˆíŠ¸"]})]}),i.estimated_duration_minutes&&e.jsxs("div",{className:"flex items-center justify-center gap-1.5 text-sm",children:[e.jsx(T,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-700",children:[Math.floor(i.estimated_duration_minutes/60),"ì‹œê°„"]})]})]})]}),Pe=()=>{const[i]=G(),[l,O]=d.useState([]),[f,b]=d.useState(!0),[t,v]=d.useState(null),[r,x]=d.useState([]),[$,h]=d.useState(!1),{isMobile:I}=X();d.useEffect(()=>{g();const s=setInterval(g,1e4);return()=>clearInterval(s)},[]),d.useEffect(()=>{i.get("refresh")&&(console.log("ğŸ”„ ë°°ì°¨ í™•ì • í›„ ë¦¬ë‹¤ì´ë ‰íŠ¸ ê°ì§€ - ì¦‰ì‹œ ìƒˆë¡œê³ ì¹¨"),n.success("ë°°ì°¨ ëª©ë¡ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤..."),g(),window.history.replaceState({},"","/dispatches"))},[i]);const g=async()=>{var s;try{console.log("ğŸ“Š ë°°ì°¨ ëª©ë¡ ì¡°íšŒ ì‹œì‘...");const a=await j.getDispatches({});console.log("ğŸ“Š ë°°ì°¨ ëª©ë¡ ì‘ë‹µ:",a),console.log("ğŸ“Š ë°°ì°¨ ê°œìˆ˜:",((s=a.items)==null?void 0:s.length)||a.length||0);const o=a.items||a;O(o),x([]);const c=o.reduce((p,w)=>(p[w.status]=(p[w.status]||0)+1,p),{});console.log("ğŸ“Š ìƒíƒœë³„ ë°°ì°¨:",c),f&&b(!1)}catch(a){console.error("âŒ ë°°ì°¨ ëª©ë¡ ì¡°íšŒ ì‹¤íŒ¨:",a),n.error("ë°°ì°¨ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤"),f&&b(!1)}},A=()=>{r.length===l.length?x([]):x(l.map(s=>s.id))},F=s=>{r.includes(s)?x(r.filter(a=>a!==s)):x([...r,s])},B=async s=>{if(window.confirm("ì´ ë°°ì°¨ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{await j.deleteDispatch(s),n.success("ë°°ì°¨ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤"),g()}catch{n.error("ë°°ì°¨ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}},K=async()=>{if(r.length===0){n.error("ì‚­ì œí•  ë°°ì°¨ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”");return}if(window.confirm(`ì„ íƒí•œ ${r.length}ê°œì˜ ë°°ì°¨ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`))try{await Promise.all(r.map(s=>j.deleteDispatch(s))),n.success(`${r.length}ê°œì˜ ë°°ì°¨ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤`),g()}catch{n.error("ì¼ê´„ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}},_=async()=>{var a,o;if(r.length===0){n.error("í™•ì •í•  ë°°ì°¨ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”");return}const s=l.filter(c=>r.includes(c.id)&&c.status==="ì„ì‹œì €ì¥");if(s.length===0){n.error("ì„ì‹œì €ì¥ ìƒíƒœì˜ ë°°ì°¨ë§Œ í™•ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤");return}if(window.confirm(`ì„ íƒí•œ ${s.length}ê°œì˜ ë°°ì°¨ë¥¼ í™•ì •í•˜ì‹œê² ìŠµë‹ˆê¹Œ?

í™•ì • í›„ì—ëŠ” ìˆ˜ì •/ì‚­ì œê°€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.`))try{const c=await j.confirmDispatches(s.map(p=>p.id));c.confirmed>0?(n.success(`âœ… ${c.confirmed}ê±´ì˜ ë°°ì°¨ê°€ í™•ì •ë˜ì—ˆìŠµë‹ˆë‹¤!
ì£¼ë¬¸ ìƒíƒœê°€ 'ë°°ì°¨ì™„ë£Œ'ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`),c.failed>0&&n.error(`${c.failed}ê±´ í™•ì • ì‹¤íŒ¨`),setTimeout(()=>{g(),x([])},500)):n.error("ë°°ì°¨ í™•ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}catch(c){console.error("ë°°ì°¨ í™•ì • ì‹¤íŒ¨:",c),n.error(((o=(a=c.response)==null?void 0:a.data)==null?void 0:o.detail)||"ë°°ì°¨ í™•ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}},y=s=>{const a={ì„ì‹œì €ì¥:"bg-gray-100 text-gray-800",í™•ì •:"bg-yellow-100 text-yellow-800",ì§„í–‰ì¤‘:"bg-green-100 text-green-800",ì™„ë£Œ:"bg-blue-100 text-blue-800",ì·¨ì†Œ:"bg-red-100 text-red-800"},o={ì„ì‹œì €ì¥:"ì„ì‹œì €ì¥",í™•ì •:"í™•ì •",ì§„í–‰ì¤‘:"ì§„í–‰ì¤‘",ì™„ë£Œ:"ì™„ë£Œ",ì·¨ì†Œ:"ì·¨ì†Œ"};return e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a[s]}`,children:o[s]||s})};return f?e.jsx(C,{children:e.jsx(U,{})}):e.jsx(C,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"ë°°ì°¨ ê´€ë¦¬"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"ì‹¤ì‹œê°„ ë°°ì†¡ í˜„í™©ì„ ëª¨ë‹ˆí„°ë§í•˜ì„¸ìš”"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"ì „ì²´ ë°°ì°¨"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:l.length})]}),e.jsx(u,{className:"text-gray-400",size:32})]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"ì§„í–‰ ì¤‘"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:l.filter(s=>s.status==="ì§„í–‰ì¤‘").length})]}),e.jsx(H,{className:"text-green-400",size:32})]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"ë°°ì°¨ í™•ì •"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:l.filter(s=>s.status==="í™•ì •").length})]}),e.jsx(T,{className:"text-yellow-400",size:32})]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"ì™„ë£Œ"}),e.jsx("p",{className:"text-2xl font-bold text-gray-600 mt-1",children:l.filter(s=>s.status==="COMPLETED").length})]}),e.jsx(N,{className:"text-gray-400",size:32})]})})]}),e.jsx(m,{title:"ì‹¤ì‹œê°„ ì°¨ëŸ‰ ìœ„ì¹˜",children:e.jsx("div",{className:"h-96 rounded-lg overflow-hidden",children:e.jsxs(k,{center:[37.5665,126.978],zoom:11,style:{height:"100%",width:"100%"},children:[e.jsx(D,{attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l.filter(s=>s.current_location_lat&&s.current_location_lon).map(s=>e.jsx(S,{position:[s.current_location_lat,s.current_location_lon],children:e.jsx(z,{children:e.jsxs("div",{className:"p-2",children:[e.jsx("p",{className:"font-semibold",children:s.dispatch_number}),e.jsx("p",{className:"text-sm text-gray-600",children:s.vehicle_plate}),e.jsx("p",{className:"text-sm",children:y(s.status)})]})})},s.id))]})})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-gray-600",children:r.length>0?e.jsxs("span",{className:"font-semibold",children:[r.length,"ê°œ í•­ëª© ì„ íƒë¨"]}):e.jsx("span",{children:"ë°°ì°¨ë¥¼ ì„ íƒí•˜ì—¬ ì¼ê´„ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì„¸ìš”"})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{className:`px-4 py-2 rounded-lg flex items-center text-sm font-medium ${r.length>0&&l.filter(s=>r.includes(s.id)&&s.status==="ì„ì‹œì €ì¥").length>0?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,onClick:_,disabled:r.length===0||l.filter(s=>r.includes(s.id)&&s.status==="ì„ì‹œì €ì¥").length===0,children:[e.jsx(N,{size:16,className:"mr-2"}),"ì„ íƒ ë°°ì°¨ í™•ì • (",l.filter(s=>r.includes(s.id)&&s.status==="ì„ì‹œì €ì¥").length,"ê±´)"]}),e.jsxs("button",{className:`px-4 py-2 rounded-lg flex items-center text-sm ${r.length>0?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,onClick:K,disabled:r.length===0,children:[e.jsx(P,{size:16,className:"mr-2"}),"ì„ íƒ í•­ëª© ì‚­ì œ"]})]})]})}),!1,I?e.jsx("div",{className:"px-4 space-y-3",children:l.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(u,{size:48,className:"mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-gray-500",children:"ì§„í–‰ ì¤‘ì¸ ë°°ì°¨ê°€ ì—†ìŠµë‹ˆë‹¤"})]}):l.map(s=>e.jsx(W,{dispatch:{id:s.id,dispatch_number:s.dispatch_number,dispatch_date:s.dispatch_date||"",vehicle:s.vehicle_plate?{license_plate:s.vehicle_plate,vehicle_type:s.vehicle_type||""}:void 0,driver:s.driver_name?{name:s.driver_name}:void 0,status:s.status,total_orders:s.total_orders||0,total_pallets:s.total_pallets||0,estimated_duration_minutes:s.estimated_duration_minutes,is_urgent:s.is_urgent},onClick:()=>{v(s),h(!0)}},s.id))}):e.jsx(m,{title:"ë°°ì°¨ ëª©ë¡",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"w-12 py-3 px-4",children:e.jsx("input",{type:"checkbox",checked:l.length>0&&r.length===l.length,onChange:A,className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"ë°°ì°¨ë²ˆí˜¸"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"ì£¼ë¬¸ë²ˆí˜¸"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"ì°¨ëŸ‰ë²ˆí˜¸"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"ê¸°ì‚¬ëª…"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"ê±°ë¦¬(km)"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"ì˜ˆìƒë„ì°©"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"ìƒíƒœ"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"ì‘ì—…"})]})}),e.jsx("tbody",{children:l.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:9,className:"text-center py-8 text-gray-500",children:[e.jsx(u,{size:48,className:"mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"ì§„í–‰ ì¤‘ì¸ ë°°ì°¨ê°€ ì—†ìŠµë‹ˆë‹¤"})]})}):l.map(s=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("input",{type:"checkbox",checked:r.includes(s.id),onChange:()=>F(s.id),onClick:a=>a.stopPropagation(),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})}),e.jsx("td",{className:"py-3 px-4 font-medium text-blue-600",children:s.dispatch_number}),e.jsx("td",{className:"py-3 px-4",children:s.order_number||"-"}),e.jsx("td",{className:"py-3 px-4",children:s.vehicle_plate||"-"}),e.jsx("td",{className:"py-3 px-4",children:s.driver_name||"-"}),e.jsx("td",{className:"py-3 px-4",children:s.distance_km!=null?s.distance_km.toFixed(1):"-"}),e.jsx("td",{className:"py-3 px-4",children:s.estimated_arrival?new Date(s.estimated_arrival).toLocaleString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}),e.jsx("td",{className:"py-3 px-4",children:y(s.status)}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center",onClick:a=>{a.stopPropagation(),v(s),h(!0)},children:[e.jsx(J,{size:14,className:"mr-1"}),"ìƒì„¸"]}),e.jsxs("button",{className:"text-red-600 hover:text-red-800 text-sm font-medium flex items-center",onClick:()=>B(s.id),children:[e.jsx(P,{size:14,className:"mr-1"}),"ì‚­ì œ"]})]})})]},s.id))})]})})}),$&&t&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>h(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"ë°°ì°¨ ìƒì„¸ ì •ë³´"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.dispatch_number})]}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Q,{size:24})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ë°°ì°¨ ìƒíƒœ"}),e.jsx("div",{className:"mt-1",children:y(t.status)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ë°°ì°¨ ì¼ì"}),e.jsx("p",{className:"mt-1 text-gray-900",children:t.dispatch_date?new Date(t.dispatch_date).toLocaleDateString("ko-KR"):"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ì°¨ëŸ‰ ë²ˆí˜¸"}),e.jsx("p",{className:"mt-1 text-gray-900",children:t.vehicle_plate||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ê¸°ì‚¬ëª…"}),e.jsx("p",{className:"mt-1 text-gray-900",children:t.driver_name||"-"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(M,{size:20,className:"mr-2"}),"ë°°ì†¡ ì •ë³´"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ì´ ê±°ë¦¬"}),e.jsx("p",{className:"mt-1 text-gray-900",children:t.distance_km!=null?`${t.distance_km.toFixed(1)} km`:"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ì˜ˆìƒ ë„ì°©"}),e.jsx("p",{className:"mt-1 text-gray-900",children:t.estimated_arrival?new Date(t.estimated_arrival).toLocaleString("ko-KR"):"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ì£¼ë¬¸ ë²ˆí˜¸"}),e.jsx("p",{className:"mt-1 text-gray-900",children:t.order_number||"-"})]})]})]}),t.current_location_lat&&t.current_location_lon&&e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(R,{size:20,className:"mr-2"}),"í˜„ì¬ ìœ„ì¹˜"]}),e.jsx("div",{className:"h-64 rounded-lg overflow-hidden",children:e.jsxs(k,{center:[t.current_location_lat,t.current_location_lon],zoom:13,style:{height:"100%",width:"100%"},children:[e.jsx(D,{attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.jsx(S,{position:[t.current_location_lat,t.current_location_lon],children:e.jsx(z,{children:e.jsxs("div",{className:"p-2",children:[e.jsx("p",{className:"font-semibold",children:t.dispatch_number}),e.jsx("p",{className:"text-sm text-gray-600",children:t.vehicle_plate})]})})})]})})]}),t.status==="ì„ì‹œì €ì¥"&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start",children:[e.jsx(L,{className:"text-yellow-600 mr-3 flex-shrink-0",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"ì„ì‹œì €ì¥ ìƒíƒœ"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"ì´ ë°°ì°¨ëŠ” ì•„ì§ í™•ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. í™•ì •í•˜ë ¤ë©´ ì²´í¬ë°•ìŠ¤ë¥¼ ì„ íƒí•˜ê³  'ì„ íƒ ë°°ì°¨ í™•ì •' ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”."})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg",children:"ë‹«ê¸°"}),t.status==="ì„ì‹œì €ì¥"&&e.jsxs("button",{onClick:()=>{x([t.id]),h(!1),setTimeout(()=>_(),100)},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center",children:[e.jsx(N,{size:16,className:"mr-2"}),"ì´ ë°°ì°¨ í™•ì •"]})]})]})})]})})};export{Pe as default};
