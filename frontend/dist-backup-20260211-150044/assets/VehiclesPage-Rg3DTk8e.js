import{c as J,j as e,r as x,L as Q,B as c,n as i}from"./index-DWrA19-Q.js";import{u as X,L as T}from"./Layout-_7QmQsM4.js";import{C as A}from"./Card-BZBkuSEa.js";import{I as m}from"./Input-Bh6Z0vgL.js";import{v as h}from"./api-S7EUrgPO.js";import{C as U}from"./circle-alert-BFR813J2.js";import{W as Y}from"./wrench-IdkLiNsk.js";import{T as y}from"./truck-DYyomFIS.js";import{C as ee}from"./circle-check-big-CgFKxf-k.js";import{W as se}from"./weight-DpTbL4ZB.js";import{T as ae}from"./thermometer-C21NQbKK.js";import{M as te}from"./map-pin-BXKaUHvy.js";import{F as re}from"./file-spreadsheet-ChC5M9z1.js";import{U as le}from"./upload-DeGKjjpU.js";import{D as ne}from"./download-Bm7c4jyO.js";import{R as ie}from"./refresh-cw-BhCYe8kh.js";import{P as oe}from"./plus-Bbj8i8yA.js";import{S as de}from"./Sidebar-DEFpisEa.js";import{T as F}from"./trash-2-D1AjY7Me.js";import{P as ce}from"./pen-Dcr6KkBI.js";import"./bell-Muzov4ul.js";import"./index-BvcQtAB6.js";import"./x-cTU3yyaH.js";import"./package-CyltdJ0k.js";import"./chart-column-BBu1zpkI.js";import"./calendar-D1aWU6wz.js";import"./message-square-CQX4xtvJ.js";import"./zap-BDAzIdEF.js";import"./dollar-sign-zNa6eeND.js";import"./activity-B0jPijYH.js";import"./calculator-Cr8S2iSR.js";import"./clock-DDHN8A9u.js";import"./brain-BT-kJAZk.js";import"./settings-M2ZQNpfd.js";import"./chevron-down-DjioDqHQ.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"M10.585 15H10",key:"4nqulp"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"M20 14.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0z",key:"yu0u2z"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h2",key:"1bbqgq"}]],xe=J("thermometer-snowflake",me),D={AVAILABLE:"bg-green-100 text-green-700",DISPATCHED:"bg-blue-100 text-blue-700",MAINTENANCE:"bg-yellow-100 text-yellow-700",INACTIVE:"bg-gray-100 text-gray-700"},pe={AVAILABLE:ee,DISPATCHED:y,MAINTENANCE:Y,INACTIVE:U},ue={AVAILABLE:"ê°€ìš©",DISPATCHED:"ë°°ì°¨ì¤‘",MAINTENANCE:"ì •ë¹„",INACTIVE:"ë¹„í™œì„±"},ge={FROZEN:"ëƒ‰ë™",REFRIGERATED:"ëƒ‰ì¥",BOTH:"ëƒ‰ë™/ëƒ‰ì¥"},_e=({vehicle:n,onEdit:N,onViewLocation:b})=>{const S=pe[n.status]||U,j=n.current_location_lat&&n.current_location_lon;return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-3 border border-gray-200",onClick:N,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:n.license_plate})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:ge[n.vehicle_type]||n.vehicle_type})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${D[n.status]||D.INACTIVE}`,children:[e.jsx(S,{className:"w-3 h-3"}),ue[n.status]||n.status]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(se,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-700",children:[n.capacity_ton,"í†¤"]})]}),n.temp_min!==void 0&&n.temp_max!==void 0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ae,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-700",children:[n.temp_min,"Â°C ~ ",n.temp_max,"Â°C"]})]})]}),j&&e.jsx("div",{className:"pt-3 border-t border-gray-100",children:e.jsxs("button",{onClick:w=>{w.stopPropagation(),b==null||b()},className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800 active:scale-95 transition-transform",children:[e.jsx(te,{className:"w-4 h-4"}),e.jsx("span",{children:"í˜„ì¬ ìœ„ì¹˜ ë³´ê¸°"}),n.last_location_update&&e.jsxs("span",{className:"text-xs text-gray-400",children:["(",new Date(n.last_location_update).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),")"]})]})})]})},Xe=()=>{const[n,N]=x.useState([]),[b,S]=x.useState(!0),[j,w]=x.useState(!1),[V,v]=x.useState(!1),[f,E]=x.useState(null),[k,R]=x.useState(""),[d,u]=x.useState([]),[I,z]=x.useState(!1),{isMobile:$}=X(),[a,o]=x.useState({code:"",plate_number:"",vehicle_type:"ëƒ‰ë™",driver_name:"",driver_phone:"",max_pallets:"",max_weight_kg:"",tonnage:"",forklift_operator_available:!1,length_m:"",min_temp_celsius:"",max_temp_celsius:"",garage_address:"",status:"ìš´í–‰ê°€ëŠ¥"});x.useEffect(()=>{g()},[]);const g=async()=>{try{const s=await h.list();N(s.data.items||[]),u([])}catch(s){console.error("Failed to fetch vehicles:",s),N([])}finally{S(!1)}},P=()=>{d.length===p.length?u([]):u(p.map(s=>s.id))},M=s=>{d.includes(s)?u(d.filter(t=>t!==s)):u([...d,s])},O=async()=>{if(d.length===0){i.error("ì‚­ì œí•  ì°¨ëŸ‰ì„ ì„ íƒí•´ì£¼ì„¸ìš”");return}if(window.confirm(`ì„ íƒí•œ ${d.length}ê°œì˜ ì°¨ëŸ‰ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`))try{await Promise.all(d.map(s=>h.delete(s))),i.success(`${d.length}ê°œì˜ ì°¨ëŸ‰ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤`),g()}catch{i.error("ì¼ê´„ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}},q=async()=>{try{const t=await(await fetch("/api/v1/vehicles/template/download")).blob(),l=window.URL.createObjectURL(t),r=document.createElement("a");r.href=l,r.download="vehicles_template.xlsx",document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(l),document.body.removeChild(r),i.success("ì–‘ì‹ íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤")}catch{i.error("ì–‘ì‹ ë‹¤ìš´ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}},B=async()=>{try{const t=await(await fetch("/api/v1/vehicles/export/excel")).blob(),l=window.URL.createObjectURL(t),r=document.createElement("a");r.href=l,r.download=`vehicles_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(l),document.body.removeChild(r),i.success("ì°¨ëŸ‰ ëª©ë¡ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤")}catch{i.error("ë‹¤ìš´ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}},H=async s=>{var r;const t=(r=s.target.files)==null?void 0:r[0];if(!t)return;const l=new FormData;l.append("file",t);try{z(!0);const _=await fetch("/api/v1/vehicles/upload",{method:"POST",body:l});if(!_.ok)throw new Error("Upload failed");const C=await _.json();i.success(`${C.created||0}ê°œì˜ ì°¨ëŸ‰ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤`),g()}catch{i.error("íŒŒì¼ ì—…ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}finally{z(!1),s.target.value=""}},L=s=>{var t,l,r;s?(E(s),o({code:s.code,plate_number:s.plate_number,vehicle_type:s.vehicle_type,driver_name:s.driver_name||"",driver_phone:s.driver_phone||"",max_pallets:s.max_pallets.toString(),max_weight_kg:s.max_weight_kg.toString(),tonnage:s.tonnage.toString(),forklift_operator_available:s.forklift_operator_available||!1,length_m:((t=s.length_m)==null?void 0:t.toString())||"",min_temp_celsius:((l=s.min_temp_celsius)==null?void 0:l.toString())||"",max_temp_celsius:((r=s.max_temp_celsius)==null?void 0:r.toString())||"",garage_address:s.garage_address||"",status:s.status})):(E(null),o({code:"",plate_number:"",vehicle_type:"ëƒ‰ë™",driver_name:"",driver_phone:"",max_pallets:"20",max_weight_kg:"5000",tonnage:"5",forklift_operator_available:!1,length_m:"6.0",min_temp_celsius:"-20",max_temp_celsius:"-15",garage_address:"",status:"ìš´í–‰ê°€ëŠ¥"})),v(!0)},W=async s=>{s.preventDefault();try{const t={...a,max_pallets:parseInt(a.max_pallets),max_weight_kg:parseFloat(a.max_weight_kg),tonnage:parseFloat(a.tonnage),length_m:a.length_m?parseFloat(a.length_m):void 0,min_temp_celsius:a.min_temp_celsius?parseFloat(a.min_temp_celsius):void 0,max_temp_celsius:a.max_temp_celsius?parseFloat(a.max_temp_celsius):void 0,garage_address:a.garage_address||void 0,driver_name:a.driver_name||void 0,driver_phone:a.driver_phone||void 0};f?(await h.update(f.id,t),i.success("ì°¨ëŸ‰ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤")):(await h.create(t),i.success("ì°¨ëŸ‰ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤")),g(),v(!1)}catch(t){console.error("Failed to save vehicle:",t),i.error("ì°¨ëŸ‰ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}},G=async s=>{if(confirm("ì •ë§ë¡œ ì´ ì°¨ëŸ‰ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{await h.delete(s),g(),i.success("ì°¨ëŸ‰ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤")}catch(t){console.error("Failed to delete vehicle:",t),i.error("ì°¨ëŸ‰ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}},K=async()=>{w(!0);try{const t=(await h.syncUvis()).data;t.success?(i.success(`UVIS ì°¨ëŸ‰ ${t.synced}ê±´ ë™ê¸°í™” ì™„ë£Œ (ì‹ ê·œ ${t.created}ê±´, ì—…ë°ì´íŠ¸ ${t.updated}ê±´)`),g()):i.error(t.message||"UVIS ë™ê¸°í™”ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}catch(s){console.error("Failed to sync UVIS vehicles:",s),i.error("UVIS ë™ê¸°í™” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤")}finally{w(!1)}},p=n.filter(s=>{var t,l,r;return((t=s.plate_number)==null?void 0:t.toLowerCase().includes(k.toLowerCase()))||((l=s.driver_name)==null?void 0:l.toLowerCase().includes(k.toLowerCase()))||((r=s.vehicle_type)==null?void 0:r.toLowerCase().includes(k.toLowerCase()))}),Z=s=>{const t={ìš´í–‰ê°€ëŠ¥:"bg-green-100 text-green-800",ìš´í–‰ì¤‘:"bg-blue-100 text-blue-800",ì •ë¹„ì¤‘:"bg-yellow-100 text-yellow-800",ìš´í–‰ë¶ˆê°€:"bg-gray-100 text-gray-800"},l={ìš´í–‰ê°€ëŠ¥:"ìš´í–‰ê°€ëŠ¥",ìš´í–‰ì¤‘:"ìš´í–‰ì¤‘",ì •ë¹„ì¤‘:"ì •ë¹„ì¤‘",ìš´í–‰ë¶ˆê°€:"ìš´í–‰ë¶ˆê°€"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t[s]}`,children:l[s]})};return b?e.jsx(T,{children:e.jsx(Q,{})}):e.jsx(T,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"ì°¨ëŸ‰ ê´€ë¦¬"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"ëƒ‰ì¥/ëƒ‰ë™ ì°¨ëŸ‰ ì •ë³´ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(c,{onClick:q,variant:"secondary",size:"sm",children:[e.jsx(re,{size:18,className:"mr-2"}),"ì–‘ì‹ ë‹¤ìš´ë¡œë“œ"]}),e.jsxs("label",{children:[e.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:H,className:"hidden",disabled:I}),e.jsxs(c,{as:"span",variant:"secondary",size:"sm",disabled:I,children:[e.jsx(le,{size:18,className:"mr-2"}),I?"ì—…ë¡œë“œ ì¤‘...":"ì—‘ì…€ ì—…ë¡œë“œ"]})]}),e.jsxs(c,{onClick:B,variant:"secondary",size:"sm",children:[e.jsx(ne,{size:18,className:"mr-2"}),"ì „ì²´ ë‹¤ìš´ë¡œë“œ"]}),e.jsxs(c,{onClick:K,disabled:j,variant:"outline",size:"sm",children:[e.jsx(ie,{size:18,className:`mr-2 ${j?"animate-spin":""}`}),j?"ë™ê¸°í™” ì¤‘...":"UVIS ë¶ˆëŸ¬ì˜¤ê¸°"]}),e.jsxs(c,{onClick:()=>L(),size:"sm",children:[e.jsx(oe,{size:18,className:"mr-2"}),"ì‹ ê·œ ë“±ë¡"]})]})]}),e.jsx(A,{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(m,{placeholder:"ì°¨ëŸ‰ë²ˆí˜¸, ìš´ì „ìëª…, ì°¨ëŸ‰ìœ í˜•ìœ¼ë¡œ ê²€ìƒ‰...",value:k,onChange:s=>R(s.target.value),className:"flex-1"}),e.jsxs(c,{onClick:P,variant:"outline",size:"sm",children:[e.jsx(de,{size:18,className:"mr-2"}),d.length===p.length&&p.length>0?"ì „ì²´ í•´ì œ":"ì „ì²´ ì„ íƒ"]}),d.length>0&&e.jsxs(c,{onClick:O,variant:"danger",size:"sm",children:[e.jsx(F,{size:18,className:"mr-2"}),"ì„ íƒ ì‚­ì œ (",d.length,")"]})]})}),d.length>0&&e.jsx(A,{className:"mb-6 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-blue-700 font-medium",children:["âœ“ ",d.length,"ê°œ í•­ëª© ì„ íƒë¨"]}),e.jsx(c,{onClick:()=>u([]),variant:"ghost",size:"sm",children:"ì„ íƒ í•´ì œ"})]})}),$?e.jsx("div",{className:"px-4 space-y-3",children:p.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(y,{size:48,className:"mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"ë“±ë¡ëœ ì°¨ëŸ‰ì´ ì—†ìŠµë‹ˆë‹¤"})]}):p.map(s=>{var t,l,r;return e.jsx(_e,{vehicle:{id:s.id,license_plate:s.plate_number,vehicle_type:s.vehicle_type,capacity_ton:s.tonnage,temp_min:s.min_temp_celsius,temp_max:s.max_temp_celsius,status:s.status,current_location_lat:(t=s.gps_data)==null?void 0:t.latitude,current_location_lon:(l=s.gps_data)==null?void 0:l.longitude,last_location_update:(r=s.gps_data)==null?void 0:r.last_updated},onEdit:()=>L(s),onViewLocation:()=>{var _,C;(_=s.gps_data)!=null&&_.latitude&&((C=s.gps_data)!=null&&C.longitude)&&window.open(`https://www.google.com/maps/search/?api=1&query=${s.gps_data.latitude},${s.gps_data.longitude}`,"_blank")}},s.id)})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(s=>e.jsxs(A,{className:`hover:shadow-lg transition-shadow relative ${d.includes(s.id)?"ring-2 ring-blue-500 bg-blue-50":""}`,children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("input",{type:"checkbox",checked:d.includes(s.id),onChange:()=>M(s.id),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(y,{className:"text-blue-600",size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:s.plate_number}),e.jsx("p",{className:"text-sm text-gray-500",children:s.vehicle_type})]})]}),Z(s.status)]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"ìš´ì „ì"}),e.jsx("span",{className:"font-medium",children:s.driver_name||"-"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"ì—°ë½ì²˜"}),e.jsx("span",{className:"font-medium",children:s.driver_phone||"-"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"ì ì¬ìš©ëŸ‰"}),e.jsxs("span",{className:"font-medium",children:[s.max_weight_kg,"kg"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"íŒ”ë ˆíŠ¸"}),e.jsxs("span",{className:"font-medium",children:[s.max_pallets,"ê°œ"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"ì§€ê²Œì°¨ ìš´ì „ëŠ¥ë ¥"}),e.jsx("span",{className:`font-semibold ${s.forklift_operator_available?"text-green-600":"text-gray-400"}`,children:s.forklift_operator_available?"âœ“ ê°€ëŠ¥":"âœ— ë¶ˆê°€ëŠ¥"})]}),s.length_m&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"ì ì¬í•¨ ê¸¸ì´"}),e.jsxs("span",{className:"font-medium",children:[s.length_m,"m"]})]}),s.min_temp_celsius!==void 0&&s.max_temp_celsius!==void 0&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 flex items-center",children:[e.jsx(xe,{size:16,className:"mr-1"}),"ì˜¨ë„ë²”ìœ„"]}),e.jsxs("span",{className:"font-medium",children:[s.min_temp_celsius,"Â°C ~ ",s.max_temp_celsius,"Â°C"]})]}),s.garage_address&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"ì°¨ê³ ì§€"}),e.jsx("span",{className:"font-medium text-xs",children:s.garage_address})]})]}),s.uvis_device_id&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-2 mb-4",children:[e.jsxs("p",{className:"text-xs text-blue-800 font-semibold mb-2",children:["UVIS: ",s.uvis_device_id]}),s.gps_data&&e.jsxs("div",{className:"space-y-1 text-xs",children:[s.gps_data.is_engine_on!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"ì‹œë™:"}),e.jsx("span",{className:`font-semibold ${s.gps_data.is_engine_on?"text-green-600":"text-gray-600"}`,children:s.gps_data.is_engine_on?"ğŸŸ¢ ON":"âš« OFF"})]}),s.gps_data.speed_kmh!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"ì†ë„:"}),e.jsxs("span",{className:"font-semibold text-blue-900",children:[s.gps_data.speed_kmh," km/h"]})]}),s.gps_data.temperature_a!==void 0&&s.gps_data.temperature_a!==null&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"ëƒ‰ë™ê¸°ì˜¨ë„ A:"}),e.jsxs("span",{className:`font-semibold ${s.gps_data.temperature_a<-18?"text-blue-600":s.gps_data.temperature_a<5?"text-cyan-600":s.gps_data.temperature_a<15?"text-green-600":"text-orange-600"}`,children:[s.gps_data.temperature_a.toFixed(1),"Â°C"]})]}),s.gps_data.temperature_b!==void 0&&s.gps_data.temperature_b!==null&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"ëƒ‰ë™ê¸°ì˜¨ë„ B:"}),e.jsxs("span",{className:`font-semibold ${s.gps_data.temperature_b<-18?"text-blue-600":s.gps_data.temperature_b<5?"text-cyan-600":s.gps_data.temperature_b<15?"text-green-600":"text-orange-600"}`,children:[s.gps_data.temperature_b.toFixed(1),"Â°C"]})]}),s.gps_data.latitude&&s.gps_data.longitude&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"ìœ„ì¹˜:"}),e.jsxs("span",{className:"font-medium text-blue-900",children:[s.gps_data.latitude.toFixed(4),", ",s.gps_data.longitude.toFixed(4)]})]}),s.gps_data.last_updated&&e.jsxs("div",{className:"flex justify-between pt-1 border-t border-blue-200",children:[e.jsx("span",{className:"text-blue-600",children:"ì—…ë°ì´íŠ¸:"}),e.jsx("span",{className:"text-blue-800 text-sm",children:new Date(s.gps_data.last_updated).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})]})]}),!s.gps_data&&e.jsx("p",{className:"text-xs text-gray-500 italic",children:"GPS ë°ì´í„° ì—†ìŒ"})]}),e.jsxs("div",{className:"flex space-x-2 pt-4 border-t",children:[e.jsxs(c,{variant:"secondary",size:"sm",onClick:()=>L(s),className:"flex-1",children:[e.jsx(ce,{size:16,className:"mr-1"}),"ìˆ˜ì •"]}),e.jsxs(c,{variant:"danger",size:"sm",onClick:()=>G(s.id),className:"flex-1",children:[e.jsx(F,{size:16,className:"mr-1"}),"ì‚­ì œ"]})]})]},s.id))}),p.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(y,{size:48,className:"mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"ë“±ë¡ëœ ì°¨ëŸ‰ì´ ì—†ìŠµë‹ˆë‹¤"})]})]}),V&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:f?"ì°¨ëŸ‰ ìˆ˜ì •":"ì°¨ëŸ‰ ë“±ë¡"}),e.jsx("button",{onClick:()=>v(!1),className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),e.jsxs("form",{onSubmit:W,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(m,{label:"ì°¨ëŸ‰ì½”ë“œ *",value:a.code,onChange:s=>o({...a,code:s.target.value}),placeholder:"V001",required:!0,disabled:!!f}),e.jsx(m,{label:"ì°¨ëŸ‰ë²ˆí˜¸ *",value:a.plate_number,onChange:s=>o({...a,plate_number:s.target.value}),placeholder:"00ê°€0000",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ì°¨ëŸ‰ìœ í˜• *"}),e.jsxs("select",{value:a.vehicle_type,onChange:s=>o({...a,vehicle_type:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"ëƒ‰ë™",children:"ëƒ‰ë™"}),e.jsx("option",{value:"ëƒ‰ì¥",children:"ëƒ‰ì¥"}),e.jsx("option",{value:"ê²¸ìš©",children:"ê²¸ìš©"}),e.jsx("option",{value:"ìƒì˜¨",children:"ìƒì˜¨"})]})]}),e.jsx(m,{label:"í†¤ìˆ˜ *",type:"number",value:a.tonnage,onChange:s=>o({...a,tonnage:s.target.value}),step:"0.1",min:"0",placeholder:"5",required:!0}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"forklift_operator_available",checked:a.forklift_operator_available,onChange:s=>o({...a,forklift_operator_available:s.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"forklift_operator_available",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"ì§€ê²Œì°¨ ìš´ì „ëŠ¥ë ¥ (ê°€ëŠ¥/ë¶ˆê°€ëŠ¥) *"})]}),e.jsx(m,{label:"ì ì¬í•¨ ê¸¸ì´(m)",type:"number",value:a.length_m,onChange:s=>o({...a,length_m:s.target.value}),step:"0.1",min:"0",placeholder:"6.0"}),e.jsx(m,{label:"ìš´ì „ìëª…",value:a.driver_name,onChange:s=>o({...a,driver_name:s.target.value})}),e.jsx(m,{label:"ì—°ë½ì²˜",value:a.driver_phone,onChange:s=>o({...a,driver_phone:s.target.value}),placeholder:"010-0000-0000"}),e.jsx(m,{label:"ìµœëŒ€ íŒ”ë ˆíŠ¸ ìˆ˜ *",type:"number",value:a.max_pallets,onChange:s=>o({...a,max_pallets:s.target.value}),min:"1",placeholder:"20",required:!0}),e.jsx(m,{label:"ìµœëŒ€ ì ì¬ì¤‘ëŸ‰(kg) *",type:"number",value:a.max_weight_kg,onChange:s=>o({...a,max_weight_kg:s.target.value}),step:"0.01",min:"0",placeholder:"5000",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ìƒíƒœ"}),e.jsxs("select",{value:a.status,onChange:s=>o({...a,status:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"ìš´í–‰ê°€ëŠ¥",children:"ìš´í–‰ê°€ëŠ¥"}),e.jsx("option",{value:"ìš´í–‰ì¤‘",children:"ìš´í–‰ì¤‘"}),e.jsx("option",{value:"ì •ë¹„ì¤‘",children:"ì •ë¹„ì¤‘"}),e.jsx("option",{value:"ìš´í–‰ë¶ˆê°€",children:"ìš´í–‰ë¶ˆê°€"})]})]}),e.jsx(m,{label:"ìµœì € ì˜¨ë„(Â°C)",type:"number",value:a.min_temp_celsius,onChange:s=>o({...a,min_temp_celsius:s.target.value}),step:"0.1",placeholder:"-20"}),e.jsx(m,{label:"ìµœê³  ì˜¨ë„(Â°C)",type:"number",value:a.max_temp_celsius,onChange:s=>o({...a,max_temp_celsius:s.target.value}),step:"0.1",placeholder:"-15"}),e.jsx(m,{label:"ì°¨ê³ ì§€ ì£¼ì†Œ",value:a.garage_address,onChange:s=>o({...a,garage_address:s.target.value}),placeholder:"ì„œìš¸íŠ¹ë³„ì‹œ ê°•ì„œêµ¬"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx(c,{type:"button",variant:"secondary",onClick:()=>v(!1),children:"ì·¨ì†Œ"}),e.jsx(c,{type:"submit",variant:"primary",children:f?"ìˆ˜ì •":"ë“±ë¡"})]})]})]})})]})})};export{Xe as default};
