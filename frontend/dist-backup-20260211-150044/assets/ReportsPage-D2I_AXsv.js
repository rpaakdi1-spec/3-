import{r as d,j as e,B as w,b as D}from"./index-DWrA19-Q.js";import{L as T}from"./Layout-_7QmQsM4.js";import{C as m}from"./Card-BZBkuSEa.js";import{T as C}from"./truck-DYyomFIS.js";import{T as k}from"./trending-up-B_M0jfMY.js";import{U as O}from"./users-CEPVEgfx.js";import{D as I}from"./dollar-sign-zNa6eeND.js";import{C as j}from"./calendar-D1aWU6wz.js";import{F as f}from"./file-text-DRE6fYJy.js";import{D as F}from"./download-Bm7c4jyO.js";import"./Sidebar-DEFpisEa.js";import"./package-CyltdJ0k.js";import"./message-square-CQX4xtvJ.js";import"./zap-BDAzIdEF.js";import"./activity-B0jPijYH.js";import"./thermometer-C21NQbKK.js";import"./chart-column-BBu1zpkI.js";import"./calculator-Cr8S2iSR.js";import"./clock-DDHN8A9u.js";import"./bell-Muzov4ul.js";import"./wrench-IdkLiNsk.js";import"./brain-BT-kJAZk.js";import"./settings-M2ZQNpfd.js";import"./x-cTU3yyaH.js";import"./chevron-down-DjioDqHQ.js";import"./index-BvcQtAB6.js";const ae=()=>{var u;const[y,p]=d.useState(!1),[x,N]=d.useState("dispatch"),[a,g]=d.useState("pdf"),[l,i]=d.useState(new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0]),[n,o]=d.useState(new Date().toISOString().split("T")[0]),h=[{id:"dispatch",name:"ë°°ì°¨ ë¦¬í¬íŠ¸",description:"ë°°ì°¨ í˜„í™©, ì™„ë£Œìœ¨, ìƒì„¸ ë‚´ì—­",icon:C,color:"blue"},{id:"vehicles",name:"ì°¨ëŸ‰ ì„±ëŠ¥ ë¦¬í¬íŠ¸",description:"ì°¨ëŸ‰ë³„ ê°€ë™ë¥ , ì ì¬ìœ¨, íš¨ìœ¨ì„±",icon:k,color:"green"},{id:"drivers",name:"ìš´ì „ì í‰ê°€ ë¦¬í¬íŠ¸",description:"ìš´ì „ìë³„ ë°°ì†¡ ì™„ë£Œìœ¨, í‰ê·  ì£¼ë¬¸ ìˆ˜",icon:O,color:"purple"},{id:"customers",name:"ê³ ê° ë§Œì¡±ë„ ë¦¬í¬íŠ¸",description:"ê³ ê°ë³„ ì£¼ë¬¸ í˜„í™© ë° ë§Œì¡±ë„",icon:I,color:"orange"}],v=async()=>{p(!0);try{const s=`/reports/${x}/${a}`,t={start_date:l,end_date:n},r=await D.post(s,null,{params:t,responseType:"blob"}),b=window.URL.createObjectURL(new Blob([r.data])),c=document.createElement("a");c.href=b;const S=a==="pdf"?"pdf":"xlsx";c.setAttribute("download",`${x}_report_${l}_${n}.${S}`),document.body.appendChild(c),c.click(),c.remove(),window.URL.revokeObjectURL(b),alert("ë¦¬í¬íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!")}catch(s){console.error("Report generation failed:",s),alert("ë¦¬í¬íŠ¸ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.")}finally{p(!1)}};return e.jsx(T,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"ë¦¬í¬íŠ¸ ìƒì„±"}),e.jsx("p",{className:"text-gray-600",children:"ë¹„ì¦ˆë‹ˆìŠ¤ ë¦¬í¬íŠ¸ë¥¼ PDF ë˜ëŠ” Excel í˜•ì‹ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx(m,{title:"ë¦¬í¬íŠ¸ ìœ í˜• ì„ íƒ",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(s=>{const t=s.icon,r=x===s.id;return e.jsxs("button",{onClick:()=>N(s.id),className:`p-4 rounded-lg border-2 transition-all text-left ${r?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg bg-${s.color}-100`,children:e.jsx(t,{className:`text-${s.color}-600`,size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description})]})]}),r&&e.jsxs("div",{className:"mt-2 flex items-center text-blue-600 text-sm font-medium",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),"ì„ íƒë¨"]})]},s.id)})})}),e.jsxs(m,{title:"ê¸°ê°„ ì„ íƒ",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(j,{className:"inline mr-2",size:16}),"ì‹œì‘ì¼"]}),e.jsx("input",{type:"date",value:l,onChange:s=>i(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(j,{className:"inline mr-2",size:16}),"ì¢…ë£Œì¼"]}),e.jsx("input",{type:"date",value:n,onChange:s=>o(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>{const s=new Date,t=new Date(s.getTime()-7*24*60*60*1e3);i(t.toISOString().split("T")[0]),o(s.toISOString().split("T")[0])},className:"px-3 py-1 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",children:"ìµœê·¼ 7ì¼"}),e.jsx("button",{onClick:()=>{const s=new Date,t=new Date(s.getTime()-30*24*60*60*1e3);i(t.toISOString().split("T")[0]),o(s.toISOString().split("T")[0])},className:"px-3 py-1 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",children:"ìµœê·¼ 30ì¼"}),e.jsx("button",{onClick:()=>{const s=new Date,t=new Date(s.getFullYear(),s.getMonth(),1);i(t.toISOString().split("T")[0]),o(s.toISOString().split("T")[0])},className:"px-3 py-1 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",children:"ì´ë²ˆ ë‹¬"}),e.jsx("button",{onClick:()=>{const s=new Date;s.setMonth(s.getMonth()-1);const t=new Date(s.getFullYear(),s.getMonth(),1),r=new Date(s.getFullYear(),s.getMonth()+1,0);i(t.toISOString().split("T")[0]),o(r.toISOString().split("T")[0])},className:"px-3 py-1 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",children:"ì§€ë‚œ ë‹¬"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{title:"íŒŒì¼ í˜•ì‹",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"format",value:"pdf",checked:a==="pdf",onChange:s=>g(s.target.value),className:"mr-3"}),e.jsx(f,{className:"mr-2 text-red-600",size:20}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"PDF"}),e.jsx("div",{className:"text-sm text-gray-600",children:"ë³´ê¸° ì „ìš© ë¦¬í¬íŠ¸"})]})]}),e.jsxs("label",{className:"flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"format",value:"excel",checked:a==="excel",onChange:s=>g(s.target.value),className:"mr-3"}),e.jsx(f,{className:"mr-2 text-green-600",size:20}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Excel"}),e.jsx("div",{className:"text-sm text-gray-600",children:"í¸ì§‘ ê°€ëŠ¥í•œ ìŠ¤í”„ë ˆë“œì‹œíŠ¸"})]})]})]})}),e.jsxs(m,{children:[e.jsxs(w,{onClick:v,variant:"primary",size:"lg",className:"w-full",isLoading:y,disabled:!l||!n,children:[e.jsx(F,{className:"mr-2",size:20}),"ë¦¬í¬íŠ¸ ìƒì„±"]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"ì„ íƒ ìš”ì•½"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("li",{children:["â€¢ ë¦¬í¬íŠ¸: ",(u=h.find(s=>s.id===x))==null?void 0:u.name]}),e.jsxs("li",{children:["â€¢ í˜•ì‹: ",a.toUpperCase()]}),e.jsxs("li",{children:["â€¢ ê¸°ê°„: ",l," ~ ",n]})]})]})]}),e.jsx(m,{children:e.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"ğŸ’¡ íŒ"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"PDFëŠ” ë³´ê¸° ë° ì¸ì‡„ì— ì í•©í•©ë‹ˆë‹¤"}),e.jsx("li",{children:"Excelì€ ë°ì´í„° ë¶„ì„ì— ìœ ìš©í•©ë‹ˆë‹¤"}),e.jsx("li",{children:"ë¦¬í¬íŠ¸ëŠ” ì¦‰ì‹œ ë‹¤ìš´ë¡œë“œë©ë‹ˆë‹¤"})]})]})})]})]})]})})};export{ae as default};
