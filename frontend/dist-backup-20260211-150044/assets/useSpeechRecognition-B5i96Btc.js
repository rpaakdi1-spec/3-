import{c as m,r as n}from"./index-DWrA19-Q.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],I=m("mic",L),b=()=>{const[a,o]=n.useState(!1),[w,f]=n.useState(""),[S,u]=n.useState(""),[R,i]=n.useState(null),t=n.useRef(null),c=typeof window<"u"&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window);return n.useEffect(()=>{if(!c)return;const l=window.SpeechRecognition||window.webkitSpeechRecognition,e=new l;return e.continuous=!0,e.interimResults=!0,e.lang="ko-KR",e.onresult=r=>{let p="",g="";for(let s=r.resultIndex;s<r.results.length;s++){const d=r.results[s],h=d[0].transcript;d.isFinal?p+=h+" ":g+=h}p&&f(s=>s+p),u(g)},e.onerror=r=>{console.error("Speech recognition error:",r.error),i(r.error),o(!1)},e.onend=()=>{o(!1),u("")},t.current=e,()=>{t.current&&t.current.abort()}},[c]),{isListening:a,transcript:w,interimTranscript:S,startListening:()=>{if(!c){i("이 브라우저는 음성 인식을 지원하지 않습니다. Chrome을 사용해주세요.");return}if(t.current&&!a){i(null);try{t.current.start(),o(!0)}catch(l){console.error("Failed to start recognition:",l),i("음성 인식을 시작할 수 없습니다.")}}},stopListening:()=>{t.current&&a&&(t.current.stop(),o(!1))},resetTranscript:()=>{f(""),u(""),i(null)},isSupported:c,error:R}};export{I as M,b as u};
