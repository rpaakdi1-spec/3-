# Phase 8 사용자 가이드

## 📖 개요

Phase 8 결제/정산 시스템은 냉장 물류 운송 관리 시스템(UVIS)의 재무 관리 기능을 강화한 모듈입니다.

**주요 기능**:
- 재무 대시보드 (실시간 매출/미수금 현황)
- 실시간 요금 계산기
- 자동 청구 스케줄 관리
- 정산 승인 워크플로우
- 결제 알림 관리
- 데이터 내보내기

---

## 🔐 로그인

### 접속 URL
- **프로덕션**: http://139.150.11.99

### 로그인 정보
- **사용자명**: `admin`
- **비밀번호**: `admin123`

### 첫 로그인 후
1. 비밀번호 변경 권장
2. 사용자 프로필 확인
3. 권한 확인

---

## 📊 1. 재무 대시보드

### 접속 경로
**사이드바 메뉴** → **결제/정산** → **재무 대시보드**  
또는 직접 URL: http://139.150.11.99/billing/financial-dashboard

### 화면 구성

#### 1.1 요약 카드 (상단)
화면 상단에 4개의 요약 카드가 표시됩니다:

1. **총 매출액** 💰
   - 선택한 기간 동안의 총 매출
   - 전월 대비 증감률 표시
   - 예: ₩124,500,000 (+12.5% 전월 대비)

2. **미수금** 💳
   - 아직 수금되지 않은 금액
   - 전월 대비 증감률 표시
   - 예: ₩23,450,000 (-5.2% 전월 대비)

3. **정산 대기** 📋
   - 승인 대기 중인 정산 건수
   - 금액 합계 표시
   - 예: 15건 (₩8,750,000)

4. **회수율** 📈
   - 매출 대비 수금 비율
   - 목표 대비 달성률 표시
   - 예: 81.2% (목표: 85%)

#### 1.2 월별 매출 추이 차트 (중앙 좌측)
- **차트 유형**: 선형 그래프 (Line Chart)
- **데이터**: 최근 12개월 매출 추이
- **색상**: 파란색 라인
- **인터랙션**: 마우스 호버 시 상세 금액 표시

**활용**:
- 매출 트렌드 파악
- 계절성 분석
- 성장률 확인

#### 1.3 월별 회수율 차트 (중앙 우측)
- **차트 유형**: 막대 그래프 (Bar Chart)
- **데이터**: 최근 12개월 회수율
- **색상**: 초록색 (목표 달성), 주황색 (목표 미달)
- **기준선**: 목표 회수율 85%

**활용**:
- 회수 성과 모니터링
- 문제 기간 식별
- 개선 필요 월 확인

#### 1.4 TOP 10 거래처 테이블 (하단)
선택한 기간 동안 매출이 높은 상위 10개 거래처 표시:

| 순위 | 거래처명 | 총 매출액 | 미수금 | 회수율 | 거래 건수 |
|------|----------|-----------|--------|--------|-----------|
| 1 | 삼성전자 | ₩15,230,000 | ₩0 | 100% | 42건 |
| 2 | LG화학 | ₩12,450,000 | ₩1,200,000 | 90.4% | 38건 |
| ... | ... | ... | ... | ... | ... |

**활용**:
- 주요 고객 관리
- VIP 거래처 식별
- 미수금 집중 관리

### 1.5 필터 및 기능

#### 날짜 범위 선택
- **시작일**: 날짜 선택
- **종료일**: 날짜 선택
- **버튼**: "조회" 클릭하여 데이터 갱신

#### 빠른 기간 선택
- **1개월**: 최근 1개월 데이터
- **3개월**: 최근 3개월 데이터
- **6개월**: 최근 6개월 데이터
- **12개월**: 최근 12개월 데이터 (기본값)

#### 추가 기능
- **새로고침** 🔄: 최신 데이터로 갱신
- **리포트 다운로드** 📥: Excel 파일로 다운로드
- **자동 새로고침**: 60초마다 자동 갱신

### 사용 시나리오

#### 시나리오 1: 월별 매출 확인
1. 대시보드 접속
2. "1개월" 버튼 클릭
3. 요약 카드에서 총 매출액 확인
4. 월별 추이 차트에서 트렌드 확인

#### 시나리오 2: 미수금 관리
1. "미수금" 카드 확인 (금액이 높으면 빨간색)
2. TOP 10 테이블에서 미수금 많은 거래처 확인
3. 해당 거래처 클릭하여 상세 내역 조회
4. 결제 알림 발송 (결제 알림 관리 메뉴)

#### 시나리오 3: 분기 실적 보고
1. "3개월" 버튼 클릭
2. 요약 카드 스크린샷
3. 차트 스크린샷
4. "리포트 다운로드" 클릭하여 Excel 파일 저장
5. 경영진에게 보고

---

## 💰 2. 실시간 요금 계산기

### 접속 경로
**사이드바 메뉴** → **결제/정산** → **요금 계산**  
또는 직접 URL: http://139.150.11.99/billing/charge-preview

### 화면 구성

#### 2.1 입력 폼 (좌측)

**필수 입력 항목**:
1. **거래처 선택** 🏢
   - 드롭다운에서 거래처 선택
   - 검색 기능 지원

2. **배차일** 📅
   - 날짜 선택 (기본값: 오늘)
   - 주말 여부 자동 감지

3. **총 거리** 📍
   - 킬로미터(km) 입력
   - 예: 45.5km

4. **팔레트 수** 📦
   - 정수 입력
   - 예: 10

5. **총 중량** ⚖️ (선택)
   - 킬로그램(kg) 입력
   - 예: 850kg

**할증 조건** (체크박스):
- ⬜ **주말 운송** (토요일/일요일)
- ⬜ **야간 운송** (21:00 ~ 06:00)
- ⬜ **긴급 배송** (당일 배송)

#### 2.2 계산 결과 (우측)

**요약 카드** (상단):
1. **총 예상 요금** 💵
   - 최종 청구 금액
   - 큰 글씨로 강조
   - 예: ₩458,500

2. **기본 운임** 📊
   - 거리 + 팔레트 + 중량 기본 요금
   - 예: ₩350,000

3. **할증/할인** 💼
   - 할증료 합계
   - 할인 금액
   - 순 추가 금액
   - 예: +₩108,500

**상세 내역 테이블** (하단):
| 항목 | 금액 |
|------|------|
| 거리 기본 요금 (45.5km × ₩5,000) | ₩227,500 |
| 팔레트 기본 요금 (10개 × ₩8,000) | ₩80,000 |
| 중량 기본 요금 (850kg × ₩50) | ₩42,500 |
| **소계** | **₩350,000** |
| 주말 할증 (20%) | ₩70,000 |
| 야간 할증 (30%) | ₩105,000 |
| 긴급 배송 할증 (50%) | ₩175,000 |
| **할증료 합계** | **₩350,000** |
| 대량 할인 (-5%) | -₩17,500 |
| 단골 할인 (-10%) | -₩35,000 |
| **할인 합계** | **-₩52,500** |
| 부가세 (10%) | ₩64,750 |
| **최종 금액** | **₩712,250** |

### 사용 방법

#### 기본 사용
1. 거래처 선택
2. 배차일 입력
3. 거리, 팔레트, 중량 입력
4. 할증 조건 체크 (해당 시)
5. "계산하기" 버튼 클릭
6. 우측에 결과 표시

#### 여러 시나리오 비교
1. 첫 번째 계산 (예: 주말 운송)
2. 결과 스크린샷 또는 메모
3. "초기화" 버튼 클릭
4. 두 번째 계산 (예: 평일 운송)
5. 결과 비교하여 최적 시간대 결정

### 사용 시나리오

#### 시나리오 1: 신규 주문 견적
**상황**: 고객이 운송 견적 요청

1. 계산기 접속
2. 거래처 선택 (또는 신규 거래처 가정)
3. 고객이 요청한 정보 입력:
   - 거리: 120km
   - 팔레트: 15개
   - 중량: 1,200kg
   - 배차일: 내일 (평일)
4. "계산하기" 클릭
5. 결과 확인: ₩1,245,000
6. 고객에게 견적 제공

#### 시나리오 2: 주말 vs 평일 비교
**목적**: 운송 비용 최적화

1. **평일 계산**:
   - 거래처: A사
   - 거리: 80km
   - 팔레트: 10개
   - 주말 운송: ⬜ (체크 안함)
   - 결과: ₩625,000

2. **주말 계산**:
   - 동일 조건
   - 주말 운송: ☑ (체크)
   - 결과: ₩750,000 (+20%)

3. **결론**: 평일 운송이 ₩125,000 저렴

#### 시나리오 3: 긴급 배송 추가 비용
**상황**: 고객이 긴급 배송 요청

1. 기본 견적 확인 (긴급 배송 미선택)
2. "긴급 배송" 체크박스 선택
3. 재계산하여 추가 비용 확인
4. 고객에게 추가 비용 안내 및 승인 요청

---

## 📅 3. 자동 청구 스케줄 관리

### 접속 경로
**사이드바 메뉴** → **결제/정산** → **자동 청구**  
또는 직접 URL: http://139.150.11.99/billing/auto-schedule

### 화면 구성

#### 3.1 스케줄 목록 테이블

| 거래처 | 청구 주기 | 마지막 청구일 | 다음 청구일 | 이메일 발송 | 상태 | 액션 |
|--------|----------|--------------|------------|------------|------|------|
| 삼성전자 | 매월 1일 | 2026-02-01 | 2026-03-01 | ☑ 활성 | 🟢 활성 | 편집 / 삭제 |
| LG화학 | 매월 15일 | 2026-01-15 | 2026-02-15 | ☑ 활성 | 🟢 활성 | 편집 / 삭제 |
| SK하이닉스 | 매주 월요일 | 2026-02-03 | 2026-02-10 | ⬜ 비활성 | 🔴 비활성 | 편집 / 삭제 |

#### 3.2 상단 기능 버튼
- **+ 새 스케줄 추가**: 신규 자동 청구 스케줄 생성
- **🔄 새로고침**: 목록 갱신
- **▶️ 만기 청구 실행**: 청구일이 도래한 건들 수동 실행

### 스케줄 생성

#### 생성 절차
1. "+ 새 스케줄 추가" 버튼 클릭
2. 모달 창 표시
3. 정보 입력:

**필수 항목**:
- **거래처 선택** 🏢: 드롭다운에서 선택
- **청구 주기** 📆:
  - 매일
  - 매주 (요일 선택)
  - 매월 (일자 선택: 1~31일 또는 말일)
  - 분기별 (1, 4, 7, 10월)
- **시작일** 📅: 첫 청구일

**선택 항목**:
- **이메일 자동 발송** ☑: 청구서 자동 이메일 발송
- **수신자 이메일**: 발송 이메일 주소 (기본값: 거래처 이메일)
- **참조(CC)**: 추가 수신자

4. "저장" 버튼 클릭
5. 스케줄이 목록에 추가됨

### 스케줄 편집

1. 편집할 스케줄 행의 "편집" 버튼 클릭
2. 모달 창에 기존 정보 표시
3. 수정할 항목 변경
4. "저장" 버튼 클릭

### 스케줄 삭제

1. 삭제할 스케줄 행의 "삭제" 버튼 클릭
2. 확인 다이얼로그 표시: "정말 삭제하시겠습니까?"
3. "확인" 클릭
4. 스케줄이 목록에서 제거됨

### 스케줄 활성화/비활성화

- **활성화** 🟢: 자동 청구 실행됨
- **비활성화** 🔴: 자동 청구 실행 안 됨 (보류)

**토글 방법**:
1. 상태 토글 버튼 클릭
2. 상태 변경 확인
3. 비활성화 시 자동 청구 중지

### 수동 실행

**시나리오**: 스케줄러가 실패했거나 즉시 청구가 필요한 경우

1. "▶️ 만기 청구 실행" 버튼 클릭
2. 시스템이 청구일이 도래한 모든 스케줄 확인
3. 청구서 생성 및 이메일 발송 (활성화된 경우)
4. 결과 알림:
   - 성공: "5건의 청구서가 생성되었습니다."
   - 실패: "3건 성공, 2건 실패. 로그를 확인하세요."

### 사용 시나리오

#### 시나리오 1: 월간 정기 청구 설정
**목적**: 매월 1일 자동 청구서 발송

1. "+ 새 스케줄 추가" 클릭
2. 입력:
   - 거래처: 삼성전자
   - 청구 주기: 매월 1일
   - 시작일: 2026-03-01
   - 이메일 발송: ☑
   - 수신자: billing@samsung.com
3. "저장" 클릭
4. 매월 1일마다 자동 청구서 생성 및 이메일 발송

#### 시나리오 2: 주간 청구 설정 (물류 센터)
**목적**: 매주 월요일 전주 운송 건 청구

1. "+ 새 스케줄 추가" 클릭
2. 입력:
   - 거래처: LG물류
   - 청구 주기: 매주 월요일
   - 시작일: 다음 월요일
   - 이메일 발송: ☑
3. "저장" 클릭
4. 매주 월요일마다 자동 청구

#### 시나리오 3: 특정 거래처 청구 보류
**상황**: 계약 조건 재협상 중

1. 해당 거래처 스케줄 찾기
2. 상태 토글을 "비활성" 🔴으로 전환
3. 자동 청구 중지
4. 재협상 완료 후 다시 "활성" 🟢으로 전환

---

## ✅ 4. 정산 승인 워크플로우

### 접속 경로
**사이드바 메뉴** → **결제/정산** → **정산 승인**  
또는 직접 URL: http://139.150.11.99/billing/settlement-approval

### 화면 구성

#### 4.1 승인 대기 목록

| 정산 ID | 거래처 | 정산 기간 | 총 금액 | 신청일 | 신청자 | 상태 | 액션 |
|---------|--------|----------|---------|--------|--------|------|------|
| S-2026-001 | 삼성전자 | 2026-01-01 ~ 2026-01-31 | ₩15,230,000 | 2026-02-01 | 김철수 | 🟡 대기 중 | 승인 / 반려 / 상세 |
| S-2026-002 | LG화학 | 2026-01-01 ~ 2026-01-31 | ₩12,450,000 | 2026-02-01 | 이영희 | 🟡 대기 중 | 승인 / 반려 / 상세 |

**상태 범례**:
- 🟡 **대기 중**: 승인 필요
- 🟢 **승인됨**: 승인 완료
- 🔴 **반려됨**: 반려됨

#### 4.2 필터 기능
- **상태 필터**: 전체 / 대기 중 / 승인됨 / 반려됨
- **날짜 필터**: 신청일 기준 조회

### 정산 승인 프로세스

#### 승인 절차
1. 승인할 정산 행의 "승인" 버튼 클릭
2. 승인 확인 모달 표시
3. **승인 코멘트** 입력 (선택):
   - 예: "정산 내역 확인 완료. 승인합니다."
4. "승인" 버튼 클릭
5. 상태가 "🟢 승인됨"으로 변경
6. 승인 이력 기록
7. 신청자에게 알림 발송 (이메일/푸시)

#### 반려 절차
1. 반려할 정산 행의 "반려" 버튼 클릭
2. 반려 확인 모달 표시
3. **반려 사유** 입력 (필수):
   - 예: "일부 청구 항목 누락. 재제출 요청."
4. "반려" 버튼 클릭
5. 상태가 "🔴 반려됨"으로 변경
6. 반려 이력 기록
7. 신청자에게 반려 사유 알림

### 상세 내역 조회

1. "상세" 버튼 클릭
2. 상세 페이지 또는 모달 표시:

**정산 상세 정보**:
- **기본 정보**: 정산 ID, 거래처, 기간, 총 금액
- **신청 정보**: 신청자, 신청일, 신청 코멘트
- **청구 내역 목록**:

| 청구 ID | 배차일 | 내역 | 금액 | 상태 |
|---------|--------|------|------|------|
| INV-2026-001 | 2026-01-05 | 서울 → 부산 (15 팔레트) | ₩1,250,000 | 완료 |
| INV-2026-002 | 2026-01-12 | 서울 → 대구 (10 팔레트) | ₩850,000 | 완료 |
| ... | ... | ... | ... | ... |

**합계 정보**:
- 청구 건수: 42건
- 총 매출액: ₩15,230,000
- 할인/할증: ₩-500,000
- 부가세: ₩1,473,000
- 최종 정산 금액: ₩16,203,000

### 승인 이력 조회

1. 정산 상세 페이지에서 "이력" 탭 클릭
2. 승인 이력 테이블 표시:

| 일시 | 승인자 | 액션 | 코멘트 |
|------|--------|------|--------|
| 2026-02-05 10:30 | 박관리 (admin) | 승인 | 정산 내역 확인 완료. 승인합니다. |
| 2026-02-01 09:15 | 김철수 (user) | 신청 | 1월 정산 신청합니다. |

### 사용 시나리오

#### 시나리오 1: 월말 정산 승인
**상황**: 매월 말 정산 승인 처리

1. 정산 승인 페이지 접속
2. "대기 중" 필터 선택
3. 각 정산 건 "상세" 버튼 클릭하여 내역 확인
4. 정산 내역이 정확하면 "승인" 버튼 클릭
5. 승인 코멘트 입력: "2026년 1월 정산 승인"
6. 모든 정산 건 승인 완료

#### 시나리오 2: 오류 정산 반려
**상황**: 청구 항목에 오류 발견

1. 문제가 있는 정산 건 "상세" 버튼 클릭
2. 청구 내역 검토 중 오류 발견:
   - 예: 중복 청구, 금액 오류
3. "반려" 버튼 클릭
4. 반려 사유 상세 입력:
   - "INV-2026-015와 INV-2026-023이 중복되었습니다. 수정 후 재제출 바랍니다."
5. 신청자에게 반려 알림 발송
6. 신청자가 수정 후 재신청

#### 시나리오 3: 조건부 승인
**상황**: 일부 항목 확인 필요

1. 정산 건 "상세" 확인
2. 대부분 정확하나 일부 항목 확인 필요
3. 신청자에게 메시지 또는 전화로 확인
4. 확인 완료 후 "승인" 버튼 클릭
5. 승인 코멘트에 확인 사항 기록:
   - "김철수 담당자 확인 완료 (긴급 배송 할증 적용 사유 확인). 승인합니다."

---

## 🔔 5. 결제 알림 관리

### 접속 경로
**사이드바 메뉴** → **결제/정산** → **결제 알림**  
또는 직접 URL: http://139.150.11.99/billing/payment-reminder

### 화면 구성

#### 5.1 통계 대시보드 (상단)

**요약 카드**:
1. **총 알림 건수** 📊: 예: 25건
2. **발송 완료** ✅: 예: 18건 (72%)
3. **발송 대기** ⏳: 예: 7건 (28%)
4. **오늘 발송** 📅: 예: 5건

#### 5.2 알림 목록 테이블

| 알림 ID | 거래처 | 미수금 | 납기일 | 알림 유형 | 발송 예정일 | 상태 | 액션 |
|---------|--------|--------|--------|----------|------------|------|------|
| R-001 | 삼성전자 | ₩2,300,000 | 2026-02-10 | 이메일 | 2026-02-07 | 🟢 발송 완료 | 상세 / 삭제 |
| R-002 | LG화학 | ₩1,850,000 | 2026-02-15 | SMS | 2026-02-12 | 🟡 발송 대기 | 지금 발송 / 삭제 |
| R-003 | SK하이닉스 | ₩950,000 | 2026-02-20 | 푸시 | 2026-02-17 | 🟡 발송 대기 | 지금 발송 / 삭제 |

**알림 유형**:
- 📧 **이메일**: 이메일 발송
- 📱 **SMS**: 문자 메시지
- 🔔 **푸시**: 앱 푸시 알림

**상태**:
- 🟢 **발송 완료**: 발송됨
- 🟡 **발송 대기**: 발송 예정
- 🔴 **실패**: 발송 실패

### 알림 생성

#### 수동 생성
1. "+ 새 알림 추가" 버튼 클릭
2. 모달 창 표시
3. 정보 입력:

**필수 항목**:
- **거래처 선택** 🏢: 드롭다운
- **미수금 정보**:
  - 청구 ID 선택 (또는 수동 입력)
  - 미수금 금액
  - 납기일
- **알림 유형** 📬:
  - ☑ 이메일
  - ☑ SMS
  - ☑ 푸시 알림
- **발송 예정일** 📅: 날짜 선택

**선택 항목**:
- **메시지 커스터마이징**: 기본 템플릿 수정
- **수신자 추가**: 참조 수신자 추가

4. "저장" 버튼 클릭
5. 알림이 목록에 추가됨
6. 발송 예정일에 자동 발송

#### 일괄 발송

**시나리오**: 납기일이 임박한 모든 미수금 알림

1. "📢 만기 알림 일괄 발송" 버튼 클릭
2. 시스템이 납기일 7일 이내 미수금 자동 탐지
3. 확인 모달 표시:
   - "15건의 알림을 발송하시겠습니까?"
   - 대상 거래처 목록 표시
4. "발송" 버튼 클릭
5. 알림 발송 시작
6. 결과 알림:
   - "15건 중 14건 발송 완료, 1건 실패"

### 즉시 발송

**시나리오**: 대기 중인 알림을 즉시 발송

1. 발송할 알림 행의 "지금 발송" 버튼 클릭
2. 확인 다이얼로그: "지금 발송하시겠습니까?"
3. "확인" 클릭
4. 알림 발송
5. 상태가 "🟢 발송 완료"로 변경

### 알림 삭제

1. 삭제할 알림 행의 "삭제" 버튼 클릭
2. 확인 다이얼로그: "정말 삭제하시겠습니까?"
3. "확인" 클릭
4. 알림 삭제

### 발송 통계

**통계 페이지** (별도 탭 또는 섹션):
- **발송 성공률**: 예: 95.2%
- **유형별 발송 건수**:
  - 이메일: 120건
  - SMS: 45건
  - 푸시: 30건
- **월별 발송 추이 차트**
- **발송 실패 원인**:
  - 잘못된 이메일 주소: 3건
  - SMS 크레딧 부족: 1건
  - 푸시 토큰 만료: 2건

### 사용 시나리오

#### 시나리오 1: 납기일 임박 알림
**목적**: 납기일 3일 전 알림 발송

1. "새 알림 추가" 클릭
2. 입력:
   - 거래처: A사
   - 미수금: ₩3,500,000
   - 납기일: 2026-02-20
   - 알림 유형: ☑ 이메일, ☑ SMS
   - 발송 예정일: 2026-02-17 (3일 전)
3. "저장" 클릭
4. 2026-02-17에 자동 발송됨

#### 시나리오 2: 월말 일괄 알림
**목적**: 월말 모든 미수금 알림

1. 매월 말일 (예: 2월 28일)
2. "📢 만기 알림 일괄 발송" 버튼 클릭
3. 시스템이 납기일 임박 미수금 모두 탐지 (예: 25건)
4. "발송" 버튼 클릭
5. 25건 알림 동시 발송
6. 발송 결과 확인: "25건 중 24건 성공, 1건 실패"

#### 시나리오 3: VIP 고객 맞춤 알림
**상황**: 주요 고객에게 정중한 알림

1. "새 알림 추가" 클릭
2. 거래처: 삼성전자 (VIP)
3. 메시지 커스터마이징:
   - 기본: "미수금 납기일이 임박했습니다."
   - 수정: "안녕하세요, 귀사와의 거래에 감사드립니다. 납기일이 다가오고 있어 알려드립니다..."
4. 알림 유형: 이메일 (정중한 톤)
5. "저장" 및 발송

---

## 📤 6. 데이터 내보내기

### 접속 경로
**사이드바 메뉴** → **결제/정산** → **내보내기**  
또는 직접 URL: http://139.150.11.99/billing/export-task

### 화면 구성

#### 6.1 통계 카드 (상단)

1. **총 작업 수** 📊: 예: 38건
2. **완료** ✅: 예: 32건 (84%)
3. **진행 중** ⏳: 예: 3건 (8%)
4. **실패** ❌: 예: 3건 (8%)

#### 6.2 내보내기 작업 목록

| 작업 ID | 작업 유형 | 파일 형식 | 생성일 | 진행률 | 상태 | 파일 크기 | 액션 |
|---------|----------|----------|--------|--------|------|----------|------|
| E-001 | 재무 리포트 | Excel | 2026-02-06 10:30 | 100% | 🟢 완료 | 2.5 MB | 다운로드 / 삭제 |
| E-002 | 청구 내역 | PDF | 2026-02-06 11:15 | 100% | 🟢 완료 | 1.8 MB | 다운로드 / 삭제 |
| E-003 | 정산 보고서 | Excel | 2026-02-06 12:00 | 65% | 🟡 진행 중 | - | 취소 |
| E-004 | 거래처 분석 | PDF | 2026-02-05 09:00 | 0% | 🔴 실패 | - | 재시도 / 삭제 |

**상태**:
- 🟢 **완료**: 다운로드 가능
- 🟡 **진행 중**: 생성 중
- 🟡 **대기 중**: 시작 대기
- 🔴 **실패**: 오류 발생

### 내보내기 작업 생성

#### 생성 절차
1. "+ 새 내보내기" 버튼 클릭
2. 모달 창 표시
3. 정보 입력:

**필수 항목**:
- **작업 유형** 📋:
  - 재무 대시보드 리포트
  - 청구 내역
  - 정산 보고서
  - 거래처 분석
  - 맞춤 내보내기 (사용자 정의)

- **파일 형식** 📄:
  - Excel (.xlsx)
  - PDF (.pdf)
  - CSV (.csv)

- **데이터 범위** 📅:
  - 시작일: 날짜 선택
  - 종료일: 날짜 선택
  - 또는 빠른 선택: 이번 달, 지난달, 분기, 연도

**선택 항목**:
- **필터 옵션**:
  - 거래처 선택 (전체 또는 특정 거래처)
  - 상태 필터 (완료, 대기, 취소 등)
- **포함 항목**:
  - ☑ 차트/그래프
  - ☑ 요약 정보
  - ☑ 상세 내역

4. "생성" 버튼 클릭
5. 작업이 목록에 추가되고 백그라운드에서 실행

### 진행 상황 모니터링

#### 자동 새로고침
- 페이지가 10초마다 자동 새로고침
- 진행 중인 작업의 진행률 업데이트

#### 수동 새로고침
- "🔄 새로고침" 버튼 클릭하여 즉시 갱신

#### 진행률 표시
- **0%**: 대기 중
- **1-99%**: 진행 중 (프로그레스 바 표시)
- **100%**: 완료

### 파일 다운로드

1. 상태가 "🟢 완료"인 작업 행에서 "다운로드" 버튼 클릭
2. 브라우저가 파일 다운로드 시작
3. 파일명 예:
   - `financial_report_2026-02-01_2026-02-28.xlsx`
   - `billing_details_2026-01-01_2026-01-31.pdf`

### 작업 취소

**시나리오**: 진행 중인 작업을 중단하려는 경우

1. 진행 중인 작업 행에서 "취소" 버튼 클릭
2. 확인 다이얼로그: "작업을 취소하시겠습니까?"
3. "확인" 클릭
4. 작업이 중단되고 상태가 "취소됨"으로 변경

### 작업 재시도

**시나리오**: 실패한 작업을 다시 실행

1. 실패한 작업 행에서 "재시도" 버튼 클릭
2. 작업이 재시작되고 상태가 "진행 중"으로 변경
3. 진행 상황 모니터링

### 작업 삭제

1. 삭제할 작업 행에서 "삭제" 버튼 클릭
2. 확인 다이얼로그: "작업과 파일을 삭제하시겠습니까?"
3. "확인" 클릭
4. 작업과 파일이 삭제됨

### 사용 시나리오

#### 시나리오 1: 월간 재무 리포트 생성
**목적**: 매월 재무 리포트 Excel 파일 생성

1. "+ 새 내보내기" 클릭
2. 입력:
   - 작업 유형: 재무 대시보드 리포트
   - 파일 형식: Excel
   - 데이터 범위: 지난달 (2026-01-01 ~ 2026-01-31)
   - 포함 항목: ☑ 차트, ☑ 요약, ☑ 상세
3. "생성" 클릭
4. 진행 상황 모니터링 (약 30초 ~ 2분)
5. 완료 후 "다운로드" 클릭
6. Excel 파일 열어서 경영진에게 보고

#### 시나리오 2: 특정 거래처 청구 내역 PDF
**목적**: 거래처 A사에 청구 내역 PDF 전달

1. "+ 새 내보내기" 클릭
2. 입력:
   - 작업 유형: 청구 내역
   - 파일 형식: PDF
   - 데이터 범위: 2026-01-01 ~ 2026-01-31
   - 거래처 필터: A사 선택
3. "생성" 클릭
4. 완료 후 다운로드
5. 이메일로 A사에 전송

#### 시나리오 3: 분기 보고서 대용량 내보내기
**목적**: Q1 전체 데이터 내보내기

1. "+ 새 내보내기" 클릭
2. 입력:
   - 작업 유형: 맞춤 내보내기
   - 파일 형식: Excel
   - 데이터 범위: 분기 (2026-01-01 ~ 2026-03-31)
   - 거래처: 전체
3. "생성" 클릭
4. 진행 상황 모니터링 (대용량이므로 5-10분 소요 가능)
5. 완료 후 다운로드
6. 데이터 분석 또는 보고서 작성에 활용

---

## 🔧 고급 기능

### 키보드 단축키
- **Ctrl + S**: 폼 저장
- **Esc**: 모달 닫기
- **Ctrl + F**: 검색 (테이블)
- **Ctrl + R**: 새로고침

### 브라우저 알림
- **결제 알림 발송 완료**: 브라우저 알림
- **내보내기 작업 완료**: 브라우저 알림
- **정산 승인 처리 완료**: 브라우저 알림

**설정 방법**:
1. 브라우저에서 알림 권한 허용
2. 설정 > 알림에서 브라우저 알림 활성화

### 다크 모드 (향후 지원 예정)
- 시스템 설정에서 다크 모드 활성화
- 눈의 피로 감소

---

## ❓ FAQ (자주 묻는 질문)

### Q1: 요금 계산기 결과가 실제와 다릅니다.
**A**: 요금 계산기는 견적 목적입니다. 최종 금액은 실제 배차 후 확정됩니다. 차이가 있는 경우 관리자에게 문의하세요.

### Q2: 자동 청구 스케줄이 실행되지 않았습니다.
**A**: 다음을 확인하세요:
1. 스케줄 상태가 "활성"인지 확인
2. 청구일이 올바르게 설정되었는지 확인
3. 로그 확인 (관리자 권한 필요)
4. "만기 청구 실행" 버튼으로 수동 실행

### Q3: 내보내기 작업이 계속 실패합니다.
**A**: 다음을 시도하세요:
1. 데이터 범위를 줄여서 재시도 (예: 1년 → 1개월)
2. 파일 형식 변경 (PDF → Excel)
3. 브라우저 캐시 삭제 후 재시도
4. 관리자에게 로그 확인 요청

### Q4: 결제 알림이 발송되지 않습니다.
**A**: 확인 사항:
1. 거래처 이메일/전화번호가 올바른지 확인
2. SMS 크레딧이 충분한지 확인 (관리자)
3. 이메일 서버 연결 상태 확인 (관리자)
4. "지금 발송" 버튼으로 수동 발송 시도

### Q5: 정산 승인 후 취소할 수 있나요?
**A**: 승인 후 취소는 관리자만 가능합니다. 잘못 승인한 경우 즉시 관리자에게 연락하세요.

---

## 📞 지원 및 문의

### 기술 지원
- **이메일**: support@uvis.com
- **전화**: 02-1234-5678 (평일 09:00-18:00)
- **긴급 연락처**: 010-1234-5678 (24시간)

### 버그 리포트
- **GitHub Issues**: https://github.com/rpaakdi1-spec/3-/issues
- 버그 발견 시 상세한 설명과 스크린샷 첨부 바랍니다.

### 기능 요청
- **이메일**: features@uvis.com
- 원하시는 기능을 설명해주시면 검토 후 반영하겠습니다.

---

## 📚 관련 문서

- **Phase 8 완료 요약**: PHASE_8_COMPLETE_SUMMARY.md
- **배포 가이드**: PHASE_8_DEPLOYMENT_GUIDE.md
- **프로덕션 배포**: PHASE_8_PRODUCTION_DEPLOYMENT.md
- **API 문서**: http://139.150.11.99:8000/docs

---

**문서 버전**: 1.0  
**최종 업데이트**: 2026-02-06  
**작성자**: GenSpark AI Developer

