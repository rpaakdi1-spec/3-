# ì„œë²„ì—ì„œ ì‹¤í–‰í•  ëª…ë ¹ì–´ (ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ê¸°)

## ğŸš€ ìë™ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

```bash
# 1. ì„œë²„ ì ‘ì†
ssh root@139.150.11.99

# 2. í”„ë¡ íŠ¸ì—”ë“œ ë””ë ‰í„°ë¦¬ ì´ë™
cd /root/uvis/frontend

# 3. ìµœì‹  ì½”ë“œ ê°€ì ¸ì˜¤ê¸°
git fetch origin main
git pull origin main

# 4. ë¹Œë“œ ì‹¤í–‰
npm run build

# 5. ì›¹ì„œë²„ ì¬ì‹œì‘ (Docker ì‚¬ìš© ì‹œ)
docker restart uvis-frontend

# ë˜ëŠ” Nginx ì‚¬ìš© ì‹œ
nginx -t && systemctl restart nginx
```

## ğŸ§ª ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸

### 1ë‹¨ê³„: ìºì‹œ ì‚­ì œ ë° ìƒˆë¡œê³ ì¹¨
- **Windows/Linux**: `Ctrl + Shift + R`
- **Mac**: `Cmd + Shift + R`

### 2ë‹¨ê³„: ê°œë°œì ë„êµ¬ ì—´ê¸°
- **Windows/Linux**: `F12`
- **Mac**: `Cmd + Option + I`

### 3ë‹¨ê³„: Console íƒ­ì—ì„œ ë¡œê·¸ í™•ì¸
ë°°ì°¨ ìµœì í™”ë¥¼ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë¡œê·¸ê°€ í‘œì‹œë©ë‹ˆë‹¤:

```
ğŸ” dispatch ë°ì´í„°: { ... }
ğŸ” ì°¾ëŠ” vehicle_id: <ê°’>
ğŸ” ì‚¬ìš© ê°€ëŠ¥í•œ vehicles: [{ id: ..., code: ... }, ...]
```

### 4ë‹¨ê³„: ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜
Console ì „ì²´ ë¡œê·¸ë¥¼ ìŠ¤í¬ë¦°ìƒ·ìœ¼ë¡œ ìº¡ì²˜í•´ì„œ ê³µìœ í•´ì£¼ì„¸ìš”!

---

## ğŸ“‹ ì˜ˆìƒ ì‹œë‚˜ë¦¬ì˜¤

### âœ… ì •ìƒ ì¼€ì´ìŠ¤
```javascript
ğŸ” dispatch ë°ì´í„°: { vehicle_id: 5, ... }
ğŸ” ì°¾ëŠ” vehicle_id: 5
ğŸ” ì‚¬ìš© ê°€ëŠ¥í•œ vehicles: [{ id: 5, code: "Vì „ë‚¨87ë°”4158" }, ...]
```

### âŒ ì˜¤ë¥˜ ì¼€ì´ìŠ¤ 1: vehicle_idê°€ undefined
```javascript
ğŸ” dispatch ë°ì´í„°: { vehicle: 5, ... }  // â† vehicle_idê°€ ì•„ë‹˜!
ğŸ” ì°¾ëŠ” vehicle_id: undefined
```
**í•´ê²°**: ë°±ì—”ë“œ API ì‘ë‹µ í•„ë“œëª… ìˆ˜ì • í•„ìš”

### âŒ ì˜¤ë¥˜ ì¼€ì´ìŠ¤ 2: ì°¨ëŸ‰ì´ ëª©ë¡ì— ì—†ìŒ
```javascript
ğŸ” dispatch ë°ì´í„°: { vehicle_id: 5, ... }
ğŸ” ì°¾ëŠ” vehicle_id: 5
ğŸ” ì‚¬ìš© ê°€ëŠ¥í•œ vehicles: [{ id: 6, code: ... }, { id: 7, code: ... }]
```
**í•´ê²°**: ì°¨ëŸ‰ ëª©ë¡ ë¡œë”© ë¡œì§ í™•ì¸ í•„ìš”

### âŒ ì˜¤ë¥˜ ì¼€ì´ìŠ¤ 3: íƒ€ì… ë¶ˆì¼ì¹˜
```javascript
ğŸ” dispatch ë°ì´í„°: { vehicle_id: "5", ... }  // â† ë¬¸ìì—´
ğŸ” ì°¾ëŠ” vehicle_id: "5"
ğŸ” ì‚¬ìš© ê°€ëŠ¥í•œ vehicles: [{ id: 5, code: ... }]  // â† ìˆ«ì
```
**í•´ê²°**: íƒ€ì… ë³€í™˜ í•„ìš”

---

## ğŸ”„ ë¡¤ë°± (ë¬¸ì œ ë°œìƒ ì‹œ)

```bash
cd /root/uvis/frontend
rm -rf dist
mv dist.backup_YYYYMMDD_HHMMSS dist  # ê°€ì¥ ìµœê·¼ ë°±ì—… í´ë”ëª… ì‚¬ìš©
docker restart uvis-frontend  # ë˜ëŠ” systemctl restart nginx
```

---

## ğŸ“ ì¶”ê°€ ë„ì›€ì´ í•„ìš”í•œ ê²½ìš°

1. **ë¹Œë“œ ë¡œê·¸ ì „ì²´** ìº¡ì²˜
2. **Console ë¡œê·¸ ì „ì²´** ìŠ¤í¬ë¦°ìƒ·
3. **Network íƒ­**ì—ì„œ `/api/v1/dispatches/optimize` ì‘ë‹µ JSON

ì´ ì •ë³´ë“¤ì„ í•¨ê»˜ ê³µìœ í•´ì£¼ì‹œë©´ ë” ë¹ ë¥´ê²Œ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!
