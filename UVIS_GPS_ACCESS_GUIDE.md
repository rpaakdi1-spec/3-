# 🛰️ UVIS GPS 실시간 관제 시스템 - 접속 방법

## 📍 시스템 접속 정보

### 🌐 프론트엔드 (웹 브라우저)

**메인 URL:**
```
https://3000-i16kcdhvw5ng6rusdg7lj-ad490db5.sandbox.novita.ai
```

**GPS 관제 직접 접속:**
1. 위 URL 접속
2. 상단 네비게이션 바에서 **"🛰️ GPS 관제"** 클릭

또는

3. URL 접속 후 **"🛰️ GPS 관제"** 메뉴를 직접 클릭하세요

---

## 🖥️ 화면 구성

### 1. 네비게이션 바 메뉴
```
대시보드 | 실시간 모니터링 | 거래처 관리 | 차량 관리 | 주문 관리 | 
AI 배차 | 배차 내역 | 📢 공지사항 | 📝 발주서 | 🛰️ GPS 관제 ← 여기!
```

### 2. GPS 관제 화면 구성
```
┌─────────────────────────────────────────────────┐
│  🛰️ UVIS GPS 실시간 모니터링                    │
├─────────────────────────────────────────────────┤
│  [ 🔄 UVIS 데이터 동기화 ] [ 🔄 새로고침 ]      │
│  [ ☑ 자동 새로고침 ] [ 30초 ▼ ]                │
│  마지막 동기화: 2026-01-27 15:30:45             │
├─────────────────────────────────────────────────┤
│  ┌───────────────┐  ┌───────────────┐           │
│  │ 🚛 12가3456   │  │ 🚛 34나5678   │           │
│  │ 🔑 시동 ON    │  │ ⭕ 시동 OFF   │           │
│  │───────────────│  │───────────────│           │
│  │ 📍 GPS 정보   │  │ 📍 GPS 정보   │           │
│  │ 위도: 37.5665 │  │ 위도: 35.1796 │           │
│  │ 경도: 126.978 │  │ 경도: 129.075 │           │
│  │ 속도: 60 km/h │  │ 속도: 0 km/h  │           │
│  │───────────────│  │───────────────│           │
│  │ 🌡️ 온도 정보  │  │ 🌡️ 온도 정보  │           │
│  │ 냉동실: -18℃ │  │ 냉동실: -20℃ │           │
│  │ 냉장실: +3℃  │  │ 냉장실: +5℃  │           │
│  └───────────────┘  └───────────────┘           │
├─────────────────────────────────────────────────┤
│  📊 통계:                                       │
│  전체 차량: 21 | 시동 ON: 8 | GPS 활성: 21 |   │
│  온도 센서 활성: 21                              │
└─────────────────────────────────────────────────┘
```

---

## 🚀 사용 방법

### Step 1: 초기 데이터 동기화
1. 페이지 접속 후 **"🔄 UVIS 데이터 동기화"** 버튼 클릭
2. 잠시 기다리면 "✅ 동기화 완료!" 알림 표시
3. 차량별 GPS 및 온도 데이터 표시

### Step 2: 자동 새로고침 설정
1. **"자동 새로고침"** 체크박스 선택
2. 새로고침 간격 선택:
   - 10초 (가장 빠름)
   - **30초** (권장)
   - 1분
   - 5분

### Step 3: 차량 상태 확인
- 각 차량 카드에서 다음 정보 확인:
  - 차량번호
  - 시동 상태 (ON: 녹색, OFF: 회색)
  - 위도/경도 (GPS 좌표)
  - 현재 속도 (km/h)
  - 냉동실 A 온도 (°C)
  - 냉장실 B 온도 (°C)
  - 최종 업데이트 시간

### Step 4: 통계 확인
화면 하단의 통계 패널에서:
- 전체 차량 수
- 시동 ON 차량 수
- GPS 활성 차량 수
- 온도 센서 활성 차량 수

---

## 🔧 백엔드 API 직접 테스트 (개발자용)

### API 문서 (Swagger UI)
```
http://localhost:8000/docs
```

### 주요 API 엔드포인트

#### 1. 실시간 차량 상태 조회
```bash
curl http://localhost:8000/api/v1/uvis-gps/realtime/vehicles
```

#### 2. UVIS 데이터 동기화
```bash
curl -X POST http://localhost:8000/api/v1/uvis-gps/sync/all
```

#### 3. GPS 로그 조회
```bash
curl http://localhost:8000/api/v1/uvis-gps/gps-logs?limit=10
```

#### 4. 온도 로그 조회
```bash
curl http://localhost:8000/api/v1/uvis-gps/temperature-logs?limit=10
```

#### 5. 인증키 발급
```bash
curl -X POST http://localhost:8000/api/v1/uvis-gps/access-key/issue
```

---

## 📊 데이터 설명

### GPS 정보
- **위도 (Latitude)**: 차량의 남북 위치 (예: 37.5665)
- **경도 (Longitude)**: 차량의 동서 위치 (예: 126.9780)
- **속도**: 현재 주행 속도 (km/h)
- **시동 상태**: ON (주행 중) / OFF (정차)

### 온도 정보
- **냉동실 A**: 주로 -18°C ~ -25°C (냉동 화물용)
- **냉장실 B**: 주로 0°C ~ 6°C (냉장 화물용)

### 온도 색상 코드
- 🔵 **파란색** (< -15°C): 냉동 상태 양호
- 🔷 **하늘색** (-15°C ~ 5°C): 정상 범위
- 🟢 **녹색** (5°C ~ 15°C): 냉장 상태
- 🟠 **주황색** (> 15°C): 주의 필요

---

## ⚠️ 주의사항

### 1. 초기 데이터가 없는 경우
- 화면에 "📭 실시간 데이터가 없습니다" 메시지 표시
- **해결**: "UVIS 데이터 동기화" 버튼 클릭

### 2. 차량 정보가 표시되지 않는 경우
- UVIS 단말기 ID가 등록되지 않은 차량
- **해결**: 차량 관리 메뉴에서 UVIS 단말기 ID 등록

### 3. 온도가 표시되지 않는 경우
- 온도 센서가 없는 차량
- UVIS 서버에서 온도 데이터 미전송
- **해결**: 차량 온도 센서 점검 또는 UVIS 관리자 문의

---

## 🔐 UVIS API 정보

### 연동 정보
- **업체명**: 광신특수(주)
- **업체 인증키**: S1910-3A84-4559--CC4
- **Base URL**: https://s1.u-vis.com/uvisc
- **인증키 유효시간**: 5분 (자동 갱신)

### 연동 API
1. **UVIS-001**: 실시간 인증키 발급
2. **UVIS-002**: 실시간 운행정보 (GPS)
3. **UVIS-003**: 실시간 온도정보

---

## 📚 추가 문서

### 상세 가이드
- **UVIS_GPS_INTEGRATION_GUIDE.md**: 완전 사용 가이드
- **UVIS_GPS_DEPLOYMENT_STATUS.md**: 배포 상태 보고서
- **144. 인터페이스사양서_광신특수_20260127.pdf**: UVIS API 공식 사양서

### API 문서
- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

---

## 🎯 빠른 접속 링크

| 항목 | URL |
|------|-----|
| **프론트엔드** | https://3000-i16kcdhvw5ng6rusdg7lj-ad490db5.sandbox.novita.ai |
| **API 문서** | http://localhost:8000/docs |
| **Health Check** | http://localhost:8000/health |

---

## 🆘 문제 해결

### Q1: 페이지가 로딩되지 않아요
**A**: 프론트엔드 서버가 실행 중인지 확인하세요.
```bash
cd /home/user/webapp/frontend
npm run dev -- --port 3000 --host 0.0.0.0
```

### Q2: "GPS 관제" 메뉴가 안 보여요
**A**: 페이지를 새로고침(F5)하거나 캐시를 삭제하세요.

### Q3: 동기화 버튼을 눌러도 데이터가 안 나와요
**A**: 
1. 백엔드 서버 상태 확인: http://localhost:8000/health
2. UVIS API 연결 상태 확인
3. API 로그 확인: http://localhost:8000/api/v1/uvis-gps/api-logs

### Q4: 차량이 목록에 안 나와요
**A**: 차량에 UVIS 단말기 ID를 등록해야 합니다.
```sql
UPDATE vehicles 
SET uvis_device_id = 'UV123456789', 
    uvis_enabled = true 
WHERE plate_number = '12가3456';
```

---

**🎉 UVIS GPS 실시간 관제 시스템을 즐겨보세요!**

**접속 URL**: https://3000-i16kcdhvw5ng6rusdg7lj-ad490db5.sandbox.novita.ai

**메뉴**: 🛰️ GPS 관제
